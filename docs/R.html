<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 2 R | Inferencia</title>
  <meta name="description" content="Notas para un curso de inferencia estadística" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 2 R | Inferencia" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Notas para un curso de inferencia estadística" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 2 R | Inferencia" />
  
  <meta name="twitter:description" content="Notas para un curso de inferencia estadística" />
  

<meta name="author" content="Rodrigo Zepeda-Tello y Luis Carlos Bernal" />


<meta name="date" content="2021-01-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="intro.html"/>
<link rel="next" href="análisis-exploratorio-de-datos.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Notas a un curso de inferencia estadística</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introducción</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#estadística-y-muestras"><i class="fa fa-check"></i><b>1.1</b> Estadística y muestras</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#modelos"><i class="fa fa-check"></i><b>1.2</b> Modelos</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#inferencia-estadística-ejemplo."><i class="fa fa-check"></i><b>1.3</b> Inferencia estadística: ejemplo.</a><ul>
<li class="chapter" data-level="1.3.1" data-path="intro.html"><a href="intro.html#estimador-de-momentos"><i class="fa fa-check"></i><b>1.3.1</b> Estimador de momentos</a></li>
<li class="chapter" data-level="1.3.2" data-path="intro.html"><a href="intro.html#estimador-de-máxima-verosimilitud-maximización-discreta"><i class="fa fa-check"></i><b>1.3.2</b> Estimador de máxima verosimilitud (maximización discreta)</a></li>
<li class="chapter" data-level="1.3.3" data-path="intro.html"><a href="intro.html#ejemplo-5-muestreo-de-urna-con-dos-clases-con-orden-con-reemplazo"><i class="fa fa-check"></i><b>1.3.3</b> Ejemplo 5: Muestreo de urna con dos clases, con orden, con reemplazo</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#resumen-de-la-sección"><i class="fa fa-check"></i><b>1.4</b> Resumen de la sección</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="R.html"><a href="R.html"><i class="fa fa-check"></i><b>2</b> R</a><ul>
<li class="chapter" data-level="2.1" data-path="R.html"><a href="R.html#programación-en-r"><i class="fa fa-check"></i><b>2.1</b> Programación en <code>R</code></a><ul>
<li class="chapter" data-level="2.1.1" data-path="R.html"><a href="R.html#puntos-a-favor-de-r"><i class="fa fa-check"></i><b>2.1.1</b> Puntos a favor de <code>R</code></a></li>
<li class="chapter" data-level="2.1.2" data-path="R.html"><a href="R.html#bienvenidx-a-r-bunny-wunnies-freak-out-sí-así-se-llama-esta-versión"><i class="fa fa-check"></i><b>2.1.2</b> Bienvenidx a <code>R</code>, Bunny-Wunnies Freak Out (sí, así se llama esta versión)</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="R.html"><a href="R.html#instalando-cosas"><i class="fa fa-check"></i><b>2.2</b> Instalando cosas</a><ul>
<li class="chapter" data-level="2.2.1" data-path="R.html"><a href="R.html#instalación-de-r"><i class="fa fa-check"></i><b>2.2.1</b> Instalación de <code>R</code></a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="R.html"><a href="R.html#instalación-de-rstudio"><i class="fa fa-check"></i><b>2.3</b> Instalación de <code>RStudio</code></a></li>
<li class="chapter" data-level="2.4" data-path="R.html"><a href="R.html#primeros-pasos-en-r-usando-rstudio"><i class="fa fa-check"></i><b>2.4</b> Primeros pasos en <code>R</code> usando <code>RStudio</code></a></li>
<li class="chapter" data-level="2.5" data-path="R.html"><a href="R.html#cálculos-numéricos"><i class="fa fa-check"></i><b>2.5</b> Cálculos numéricos</a><ul>
<li class="chapter" data-level="2.5.1" data-path="R.html"><a href="R.html#ejercicio"><i class="fa fa-check"></i><b>2.5.1</b> Ejercicio</a></li>
<li class="chapter" data-level="2.5.2" data-path="R.html"><a href="R.html#ejercicio-1"><i class="fa fa-check"></i><b>2.5.2</b> Ejercicio</a></li>
<li class="chapter" data-level="2.5.3" data-path="R.html"><a href="R.html#respuestas"><i class="fa fa-check"></i><b>2.5.3</b> Respuestas</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="R.html"><a href="R.html#variables"><i class="fa fa-check"></i><b>2.6</b> Variables</a><ul>
<li class="chapter" data-level="2.6.1" data-path="R.html"><a href="R.html#ejercicios"><i class="fa fa-check"></i><b>2.6.1</b> Ejercicios</a></li>
<li class="chapter" data-level="2.6.2" data-path="R.html"><a href="R.html#nivel-3"><i class="fa fa-check"></i><b>2.6.2</b> NIVEL 3</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="R.html"><a href="R.html#observaciones-sobre-la-aritmética-de-punto-flotante"><i class="fa fa-check"></i><b>2.7</b> Observaciones sobre la aritmética de punto flotante</a><ul>
<li class="chapter" data-level="2.7.1" data-path="R.html"><a href="R.html#cómo-checar-un-if"><i class="fa fa-check"></i><b>2.7.1</b> ¿Cómo checar un if?</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="R.html"><a href="R.html#leer-y-almacenar-variables-en-r"><i class="fa fa-check"></i><b>2.8</b> Leer y almacenar variables en <code>R</code></a><ul>
<li class="chapter" data-level="2.8.1" data-path="R.html"><a href="R.html#ejercicio-2"><i class="fa fa-check"></i><b>2.8.1</b> Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="R.html"><a href="R.html#instalación-de-paquetes"><i class="fa fa-check"></i><b>2.9</b> Instalación de paquetes</a><ul>
<li class="chapter" data-level="2.9.1" data-path="R.html"><a href="R.html#ejercicios-1"><i class="fa fa-check"></i><b>2.9.1</b> Ejercicios</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="R.html"><a href="R.html#comentarios-adicionales-sobre-el-formato"><i class="fa fa-check"></i><b>2.10</b> Comentarios adicionales sobre el formato</a></li>
<li class="chapter" data-level="2.11" data-path="R.html"><a href="R.html#loops"><i class="fa fa-check"></i><b>2.11</b> Loops</a></li>
<li class="chapter" data-level="2.12" data-path="R.html"><a href="R.html#for"><i class="fa fa-check"></i><b>2.12</b> For</a></li>
<li class="chapter" data-level="2.13" data-path="R.html"><a href="R.html#while"><i class="fa fa-check"></i><b>2.13</b> While</a></li>
<li class="chapter" data-level="2.14" data-path="R.html"><a href="R.html#if-else-condicionales"><i class="fa fa-check"></i><b>2.14</b> If-else (condicionales)</a></li>
<li class="chapter" data-level="2.15" data-path="R.html"><a href="R.html#and-or-operadores-lógicos"><i class="fa fa-check"></i><b>2.15</b> And-or (Operadores lógicos)</a><ul>
<li class="chapter" data-level="2.15.1" data-path="R.html"><a href="R.html#and"><i class="fa fa-check"></i><b>2.15.1</b> And</a></li>
</ul></li>
<li class="chapter" data-level="2.16" data-path="R.html"><a href="R.html#or"><i class="fa fa-check"></i><b>2.16</b> Or</a></li>
<li class="chapter" data-level="2.17" data-path="R.html"><a href="R.html#ejercicio-1-1"><i class="fa fa-check"></i><b>2.17</b> Ejercicio 1</a></li>
<li class="chapter" data-level="2.18" data-path="R.html"><a href="R.html#media"><i class="fa fa-check"></i><b>2.18</b> Media</a></li>
<li class="chapter" data-level="2.19" data-path="R.html"><a href="R.html#desviación-estándar"><i class="fa fa-check"></i><b>2.19</b> Desviación estándar</a></li>
<li class="chapter" data-level="2.20" data-path="R.html"><a href="R.html#ejercicio-2-1"><i class="fa fa-check"></i><b>2.20</b> Ejercicio 2</a></li>
<li class="chapter" data-level="2.21" data-path="R.html"><a href="R.html#ejercicio-3"><i class="fa fa-check"></i><b>2.21</b> Ejercicio 3</a></li>
<li class="chapter" data-level="2.22" data-path="R.html"><a href="R.html#advertencias-y-otras-cosas-poco-intuitivas"><i class="fa fa-check"></i><b>2.22</b> Advertencias y otras cosas poco intuitivas</a></li>
<li class="chapter" data-level="2.23" data-path="R.html"><a href="R.html#donde-fallan-estas-cosas"><i class="fa fa-check"></i><b>2.23</b> Donde fallan estas cosas</a></li>
<li class="chapter" data-level="2.24" data-path="R.html"><a href="R.html#números-pseudoaleatorios"><i class="fa fa-check"></i><b>2.24</b> Números pseudoaleatorios</a></li>
<li class="chapter" data-level="2.25" data-path="R.html"><a href="R.html#ejercicio-4"><i class="fa fa-check"></i><b>2.25</b> Ejercicio 4</a></li>
<li class="chapter" data-level="2.26" data-path="R.html"><a href="R.html#aleatoreidad-en-r"><i class="fa fa-check"></i><b>2.26</b> Aleatoreidad en R</a></li>
<li class="chapter" data-level="2.27" data-path="R.html"><a href="R.html#las-semillas"><i class="fa fa-check"></i><b>2.27</b> Las semillas</a></li>
<li class="chapter" data-level="2.28" data-path="R.html"><a href="R.html#ejercicio-5"><i class="fa fa-check"></i><b>2.28</b> Ejercicio 5</a></li>
<li class="chapter" data-level="2.29" data-path="R.html"><a href="R.html#ejercicio-6"><i class="fa fa-check"></i><b>2.29</b> Ejercicio 6</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html"><i class="fa fa-check"></i><b>3</b> Análisis Exploratorio de Datos</a><ul>
<li class="chapter" data-level="3.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#inicio"><i class="fa fa-check"></i><b>3.1</b> Inicio</a></li>
<li class="chapter" data-level="3.2" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#librerías"><i class="fa fa-check"></i><b>3.2</b> Librerías</a></li>
<li class="chapter" data-level="3.3" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#base-a-analizar"><i class="fa fa-check"></i><b>3.3</b> Base a analizar</a></li>
<li class="chapter" data-level="3.4" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#definiciones-y-notación"><i class="fa fa-check"></i><b>3.4</b> Definiciones y notación</a></li>
<li class="chapter" data-level="3.5" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#estadísticos-univariados"><i class="fa fa-check"></i><b>3.5</b> Estadísticos univariados</a><ul>
<li class="chapter" data-level="3.5.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#definición-estadístico-observado"><i class="fa fa-check"></i><b>3.5.1</b> Definición [Estadístico observado]</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#ejercicios-2"><i class="fa fa-check"></i><b>3.6</b> Ejercicios</a></li>
<li class="chapter" data-level="3.7" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#gráficas-univariadas"><i class="fa fa-check"></i><b>3.7</b> Gráficas univariadas</a></li>
<li class="chapter" data-level="3.8" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#gráficas-bivariadas"><i class="fa fa-check"></i><b>3.8</b> Gráficas bivariadas</a><ul>
<li class="chapter" data-level="3.8.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#ejercicio-7"><i class="fa fa-check"></i><b>3.8.1</b> Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#estadísticos-bivariados"><i class="fa fa-check"></i><b>3.9</b> Estadísticos bivariados</a><ul>
<li class="chapter" data-level="3.9.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#ejercicio-8"><i class="fa fa-check"></i><b>3.9.1</b> Ejercicio</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#ejercicio-9"><i class="fa fa-check"></i><b>3.10</b> Ejercicio</a></li>
<li class="chapter" data-level="3.11" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#ajuste-funcional"><i class="fa fa-check"></i><b>3.11</b> Ajuste funcional</a><ul>
<li class="chapter" data-level="3.11.1" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#ejercicio-10"><i class="fa fa-check"></i><b>3.11.1</b> Ejercicio</a></li>
<li class="chapter" data-level="3.11.2" data-path="análisis-exploratorio-de-datos.html"><a href="análisis-exploratorio-de-datos.html#ejercicio-sugerido"><i class="fa fa-check"></i><b>3.11.2</b> Ejercicio sugerido</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="referencias.html"><a href="referencias.html"><i class="fa fa-check"></i>Referencias</a></li>
<li class="divider"></li>
<li><a href="https://github.com/RodrigoZepeda" target="blank">Elaborado por Rodrigo Zepeda y Luis Carlos Bernal</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Inferencia</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="R" class="section level1">
<h1><span class="header-section-number">Capítulo 2</span> R</h1>
<div id="programación-en-r" class="section level2">
<h2><span class="header-section-number">2.1</span> Programación en <code>R</code></h2>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-20"></span>
<img src="images/rlogo.png" alt="`R` es un programa chido de estadística. FIN." width="640" />
<p class="caption">
Figura 2.1: <code>R</code> es un programa chido de estadística. FIN.
</p>
</div>
<p>Una de las primeras cosas que necesitamos saber es que <code>R</code> (por más que sus más ávidos defensores digan lo contrario) no es para todo. Si tú ya conoces otro lenguaje (sea <code>Stata</code>, <code>Excel</code>, <code>SAS</code>, <code>Python</code>, <code>Matlab</code>, <code>Julia</code>, etc) sabrás utilizar muchas de sus opciones. Estoy seguro que, de conocer uno de estos, te será muchísimo más fácil seguir sacando promedios en tu lenguaje favorito que en <code>R</code>, realizar regresiones lineales es probablemente más sencillo en <code>Stata</code> mientras que las gráficas de barras para mí son más simples en <code>Excel</code>, <code>Python</code> excede en aplicaciones de inteligencia artificial mientras que <code>Matlab</code> es más veloz que <code>R</code>, <code>Julia</code> tiene muchas cosas de ecuaciones diferenciales que nadie más.</p>
<p>Lo que probablemente no sea más sencillo de hacer en otro lenguaje es realizar análisis estadístico, gráficas de todo tipo y modelos de simulación. Para eso, <code>R</code> es, indiscutiblemente, una de las mejores opciones para quienes no conocen de programación<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>.</p>
<p>Finalmente, uno de los consejos más importantes que te puedo dar es que este curso no te va a servir si no practicas. Igual que como pasa con los idiomas uno no aprende <code>R</code> en una semana <em>sin practicarlo después</em>. Mi sugerencia es que, a la vez que sigues estas notas comiences a trabajar un proyecto <em>tuyo</em> específico junto con <a href="https://yandex.com">el buscador de Internet de tu preferencia</a> a la mano y empieces a usar <code>R</code> en él. Practica<a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>.</p>
<div id="puntos-a-favor-de-r" class="section level3">
<h3><span class="header-section-number">2.1.1</span> Puntos a favor de <code>R</code></h3>
<ul>
<li><p>Todo el mundo lo usa. Quizá éste es el punto más a favor. Si mucha gente lo conoce y lo utiliza, hay más opciones de ayuda. Los sitios de StackOverflow <a href="https://stackoverflow.com">en inglés</a> y <a href="https://es.stackoverflow.com">en español</a> son excelentes para pedir apoyo en <code>R</code>; los <a href="https://groups.google.com/forum/#!forum/r-help-archive">grupos de usuarios de Google</a> son otra fuente muy buena. Entre más gente usa el programa; es más fácil obtener ayuda porque seguro alguien más tuvo hace ya tiempo el mismo problema que tú.</p></li>
<li><p>Todas las personas que trabajan en estadística publican sus métodos y su código en <code>R</code> (eso, claro, cuando publican sus métodos). Es raro encontrar <em>un nuevo método estadístico</em> en el mundo y que no se pueda usar, de alguna forma, en <code>R</code>.</p></li>
<li><p>Dentro de los lenguajes de programación <code>R</code> es de los más sencillos. Quienes lo hicieron realmente se preocuparon por su público (de no especialistas) y en general desarrollan para él.</p></li>
<li><p><code>R</code> es gratis. Y en esta época de austeridad, cualquier ahorro es bueno. Que sea gratis no significa que no esté respaldado: existen versiones de <code>R</code> respaldadas por grandes compañías como <a href="https://mran.microsoft.com/open">Microsoft</a></p></li>
<li><p>Todo lo que se hace en <code>R</code> es público. <code>R</code> no tiene métodos secretos ni es una caja negra. Todo lo que hace cada una de las funciones de <code>R</code>, cualquiera lo puede revisar, por completo.</p></li>
<li><p>En <code>R</code> puedes hacer libros o notas ¡como este! donde guardes todo tu trabajo, reportes automatizados e incluso <a href="https://gallery.shinyapps.io/086-bus-dashboard/">documentos interactivos</a> para facilitar el análisis de datos.</p></li>
<li><p><code>R</code> puede hacer gráficas bonitas:</p></li>
</ul>
<p><img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-21-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>Por supuesto, no todo es miel sobre hojuelas con <code>R</code>. Particularmente, algunos de los problemas con el lenguaje:</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-22"></span>
<img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-22-1.png" alt="La curva de aprendizaje de `R` es más empinada pero después de un rato vale la pena" width="528" />
<p class="caption">
Figura 2.2: La curva de aprendizaje de <code>R</code> es más empinada pero después de un rato vale la pena
</p>
</div>
<ul>
<li><p>La curva de aprendizaje es mucho más empinada que para otros programas estadísticos (como <code>Stata</code>, <code>SAS</code> o <code>SPSS</code>) ¡particularmente si es tu primera vez programando!</p></li>
<li><p>La mayor parte de las personas que trabajan en <code>R</code> no son programadores de verdad. Gran parte del código que te puedes encontrar <strong>en el mundo real</strong> está escrito <a href="https://nsaunders.wordpress.com/2014/05/14/this-is-why-code-written-by-scientists-gets-ugly/">con prisa para salir del aprieto</a> sin mucha planeación, con pocos comentarios, falta de control de versiones y pocas herramientas de revisión. ¡Internet está lleno de <a href="https://codegolf.stackexchange.com/a/4011">creaturas espantosas escritas en <code>R</code></a>!</p></li>
</ul>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-23"></span>
<img src="images/compiling.png" alt="`R` puede ser muy lento pero eso te da oportunidad de hacer otras cosas ;) ." width="206" />
<p class="caption">
Figura 2.3: <code>R</code> puede ser muy lento pero eso te da oportunidad de hacer otras cosas ;) .
</p>
</div>
<ul>
<li><code>R</code> <a href="https://github.com/matthieugomez/benchmark-stata-r">de ninguna manera es veloz</a> por lo que algunos programas (lo veremos en simulación) pueden ser extremada (y dolorosamente) lentos.</li>
</ul>
</div>
<div id="bienvenidx-a-r-bunny-wunnies-freak-out-sí-así-se-llama-esta-versión" class="section level3">
<h3><span class="header-section-number">2.1.2</span> Bienvenidx a <code>R</code>, Bunny-Wunnies Freak Out (sí, así se llama esta versión)</h3>
<p><code>R</code> es un lenguaje de cómputo y un programa estadístico <a href="https://www.gnu.org/philosophy/free-sw.html">libre</a>, gratuito, <a href="http://adv-r.had.co.nz/Functional-programming.html">de programación funcional</a> (¿qué es eso?), <a href="https://en.wikipedia.org/wiki/Object-oriented_programming">orientado a objetos</a> (<em>what??</em>) que mutó a partir de otros dos lenguajes conocidos como <code>Scheme</code> y <code>S</code><a href="#fn6" class="footnote-ref" id="fnref6"><sup>6</sup></a>. El primero de estos fue desarrollado en el MIT por Sussman y Steele mientras que el segundo surgió en los laboratorios Bell<a href="#fn7" class="footnote-ref" id="fnref7"><sup>7</sup></a> creado por Becker, Wilks y Chambers. <code>R</code> <a href="https://cran.r-project.org/doc/html/interface98-paper/paper_2.html">nació en junio de 1995</a> a partir del trabajo de Ross Ihaka y Robert Gentleman<a href="#fn8" class="footnote-ref" id="fnref8"><sup>8</sup></a>.</p>
<p>Desde su creación, la mayor parte del desarrollo de <code>R</code> ha sido trabajo completamente voluntario de la <a href="https://www.r-project.org/foundation/">Fundación R</a>, del equipo de R Core y de miles de usuarios que han creado funciones específicas para <code>R</code> conocidas como paquetes (<code>packages</code>). Actualmente el repositorio más importante de <code>R</code>, CRAN, contiene más de <em>16000</em> paquetes con distintas funciones para hacer ¡lo que quieras!</p>
<p>Como todo el trabajo en <code>R</code> es voluntario hace falta:</p>
<ol style="list-style-type: decimal">
<li><p>Una homologación en los métodos. Puedes encontrar varias funciones <em>que supuestamente hacen exactamente lo mismo</em> (como es el caso de <code>emojifont</code>, <code>fontemoji</code> y <code>emoGG</code> para graficar usando emojis).</p></li>
<li><p>Estandarizar la notación. Algunos paquetes como aquellos del <code>tidyverse</code> (veremos más adeltna) utilizan <code>pipes</code> (<code>%&gt;%</code>); estos sólo funcionan en el <code>tidyverse</code> pero no fuera del mismo.</p></li>
</ol>
<p>Sin embargo, también es una gran ventaja que sean los usuarios de <code>R</code> quienes guían su desarrollo. El lenguaje va mutando según peticiones de las personas que lo usan. Si hay algo que te gustaría <code>R</code> tuviera y aún no existe ¡lo puedes proponer!</p>
</div>
</div>
<div id="instalando-cosas" class="section level2">
<h2><span class="header-section-number">2.2</span> Instalando cosas</h2>
<div id="instalación-de-r" class="section level3">
<h3><span class="header-section-number">2.2.1</span> Instalación de <code>R</code></h3>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-24"></span>
<img src="images/CRAN1.png" alt="Oficialmente, la página de `R` es de las páginas más feas del mundo. ¡No te dejes llevar por las apariencias!" width="1440" />
<p class="caption">
Figura 2.4: Oficialmente, la página de <code>R</code> es de las páginas más feas del mundo. ¡No te dejes llevar por las apariencias!
</p>
</div>
<p>A lo largo de estas notas estaré trabajando con: R version 4.0.3 (2020-10-10) <em>Bunny-Wunnies Freak Out</em>. La más reciente versión de <code>R</code> la puedes encontrar en <a href="https://cran.r-project.org">CRAN</a>. Para ello ve al sitio y selecciona tu plataforma.</p>
<blockquote>
<p><strong>Nota usuarios de Mac</strong> En algunas Mac, al abir R, aparece el siguiente mensaje de advertencia:
<code>During startup - Warning messages: 1: Setting LC_CTYPE failed [...]</code>
para <a href="https://stackoverflow.com/questions/9689104/installing-r-on-mac-warning-messages-setting-lc-ctype-failed-using-c">solucionarlo</a> ve a <code>Aplicaciones</code> y abre <code>Terminal</code>. Copia y pega en ella el siguiente texto:
<code>defaults write org.R-project.R force.LANG en_US.UTF-8</code>
Da enter, cierra la <code>Terminal</code> y reinicia <code>R</code>.</p>
</blockquote>
<ul>
<li>En el caso de Windows da clic en <code>Download R for Windows</code> y luego en <code>install R for the first time</code>. Finalmente, ejecuta el instalable que aparece al dar click en <code>Download R 4.0.3 for Windows</code> .</li>
</ul>
<blockquote>
<p>Para este curso pudiera ser que requirieras las herramientas de desarrollador <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a>.</p>
</blockquote>
<ul>
<li><p>En el caso de Mac selecciona <code>Download R for (Mac) OS X</code> y luego elige <code>R-4.0.3.pkg</code>. En Mac puede que necesites instalar adicionalmente <a href="https://www.xquartz.org">XQuartz</a> (según tu versión de Mac). Si tu Mac es una versión suficientemente antigua, sigue las instrucciones específicas de <code>CRAN</code>.</p></li>
<li><p>En el caso de Linux al elegir <code>Download R for Linux</code> tendrás la opción de buscar tu distribución específica. Al elegirla, aparecerán instrucciones para tu terminal de comandos; síguelas. En el caso de Linux, según los paquetes de <code>R</code> que elijamos instalar en la computadora requerirás instalar paquetería adicional para tu distribución de Linux. <code>R</code> te informará de la paquetería necesaria conforme la requiera.</p></li>
</ul>
<blockquote>
<p>Si tienes problemas para instalar puedes usar <a href="https://rstudio.cloud">RStudio Cloud</a>.</p>
</blockquote>
</div>
</div>
<div id="instalación-de-rstudio" class="section level2">
<h2><span class="header-section-number">2.3</span> Instalación de <code>RStudio</code></h2>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-25"></span>
<img src="images/rstudio.png" alt="RStudio es una empresa que se dedica a hacer cosas para R." width="1767" />
<p class="caption">
Figura 2.5: RStudio es una empresa que se dedica a hacer cosas para R.
</p>
</div>
<p><code>RStudio</code> es una interfaz gráfica (IDE) para <code>R</code>. Puedes pensar a <code>R</code> como el <em>Bloc de Notas</em> y a <code>RStudio</code> como <em>Word</em>. El <em>Bloc</em> tiene todas las capacidades que necesitas para poder escribir; empero, es muchísimo mejor trabajar tus <em>papers</em> en <em>Word</em>. De la misma manera, <code>R</code> tiene todas las capacidades para hacer estadística <em>pero un formato horrible</em> y <code>RStudio</code> se ha convertido en la más popular forma de usar <code>R</code>. Por supuesto que no es la única; algunas alternativas son <a href="https://atom.io/packages/ide-r">Atom con ide-r</a>, <a href="https://marketplace.eclipse.org/content/statet-r">Eclipse con StatET</a> y <a href="https://rkward.kde.org">RKWard</a>. En general es posible seguir estas notas sin que tengas <code>RStudio</code> pero, si es tu primera vez programando, no lo recomiendo.</p>
<blockquote>
<p>Si ya tienes experiencia con lenguajes como Python, Javascript, Java ó alguno de los mil C que existen, no tendrás ningún problema usando el editor de tu preferencia.</p>
</blockquote>
<p>Para descargar <code>RStudio</code> ve a <a href="https://www.rstudio.com">su página</a> y da clic en <code>Download RStudio</code>. Baja tu pantalla hasta donde dice <code>Installers for Supported Platforms</code> y elige tu plataforma: <code>Windows</code>, <code>Mac OS X</code> ó tu sabor de <code>Linux</code> preferido. Una vez descargado el archivo, ábrelo y sigue las instrucciones que aparecen en pantalla.</p>
</div>
<div id="primeros-pasos-en-r-usando-rstudio" class="section level2">
<h2><span class="header-section-number">2.4</span> Primeros pasos en <code>R</code> usando <code>RStudio</code></h2>
<p>Una vez hayas instalado <code>R</code> y <code>RStudio</code>, abre <code>RStudio</code><a href="#fn9" class="footnote-ref" id="fnref9"><sup>9</sup></a>. Te enfrentarás a una pantalla similar a esta:</p>
<div class="figure" style="text-align: center"><span id="fig:fig-main"></span>
<img src="images/RStudio1.png" alt="La primera vez que abres RStudio" width="1440" />
<p class="caption">
Figura 2.6: La primera vez que abres RStudio
</p>
</div>
<p>Si tu RStudio tiene sólo 3 páneles, como en mi caso, ve a la esquina superior izquierda (signo de hoja+) y elige un nuevo <code>R Script</code></p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-26"></span>
<img src="images/RStudio2.png" alt="Elige hoja+ para crear un nuevo archivo" width="1440" />
<p class="caption">
Figura 2.7: Elige hoja+ para crear un nuevo archivo
</p>
</div>
<p>Tendrás, entonces, 4 páneles como se ve a continuación:</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-27"></span>
<img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-27-1.png" alt="RStudio &lt;3" width="384" />
<p class="caption">
Figura 2.8: RStudio &lt;3
</p>
</div>
<ol style="list-style-type: decimal">
<li>El primer panel (esquina inferior izquierda) es la <code>Consola</code>. Aquí es donde se ejecutan las acciones. Prueba escribir <code>2 + 3</code> en él y presiona enter. Aparece el resultado de la suma. Definitivamente, <code>R</code> es la calculadora que más trabajo cuesta instalar.</li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-28"></span>
<img src="images/RStudio4.png" alt="La consola de `R` es la calculadora más difícil de instalar que existe." width="1440" />
<p class="caption">
Figura 2.9: La consola de <code>R</code> es la calculadora más difícil de instalar que existe.
</p>
</div>
<ol start="2" style="list-style-type: decimal">
<li>El segundo panel (esquina superior izquierda) es el panel con el <code>Script</code>. Aquí se escribe el programa pero no <em>se ejecuta</em>. Prueba escribir <code>10 + 9</code>. ¿Ves que no pasa nada? Lo que acabas de hacer es crear un programa que, cuando se ejecute, hará la suma de <code>10 + 9</code>. ¡Qué programa más aburrido! Sin embargo, no todo está perdido: presiona <code>CTRL+Enter</code> (<code>Cmd+Enter</code> en Mac) al final de la línea o bien da clic en <code>Run</code> y verás que, en la consola, aparece la instrucción y el resultado de la misma. El <code>Script</code> es una excelente fuente para tener un historial de lo que estás haciendo.</li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-29"></span>
<img src="images/RStudio5.png" alt="El `Script` sirve para salvar las instrucciones en el orden en que las vas a ejecutar." width="1440" />
<p class="caption">
Figura 2.10: El <code>Script</code> sirve para salvar las instrucciones en el orden en que las vas a ejecutar.
</p>
</div>
<ol start="3" style="list-style-type: decimal">
<li>El tercer panel contiene el ambiente. Aquí aparecerán las variables que vayamos creando. Por ahora, para poner un ejemplo, importaremos el archivo <code>Example1.csv</code> (con valores simulados) <a href="https://github.com/RodrigoZepeda/LibroEstadistica/tree/master/datasets">disponible en Github</a> dando clic en <code>Import Dataset</code> y <code>From Text (base)</code>. Selecciona el archivo y elige las opciones en la ventana de previsualización que hagan que se vea bien. Nota que una vez realizada la importación aparece en el panel derecho <code>Example1.</code> Al dar clic podrás ver la base de datos. Las bases de datos y variables que utilices durante tus análisis aparecerán en esa sección.</li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-31"></span>
<img src="images/RStudio6.png" alt="El `Ambiente` muestra las variables (incluyendo bases de datos) que estás utilizando en este momento. A diferencia de otros programas estadísticos (o sea `Stata`) en `R` es posible tener múltiples bases de datos abiertas a la vez." width="1440" />
<p class="caption">
Figura 2.11: El <code>Ambiente</code> muestra las variables (incluyendo bases de datos) que estás utilizando en este momento. A diferencia de otros programas estadísticos (o sea <code>Stata</code>) en <code>R</code> es posible tener múltiples bases de datos abiertas a la vez.
</p>
</div>
<ol start="4" style="list-style-type: decimal">
<li>Para entender mejor lo que ocurre en el último de los páneles, lo mejor es trabajar con nuestra base. Escribe en la consola <code>plot(Example1)</code> . En el cuarto pánel aparecerá una gráfica. El cuarto de los páneles para nosotros tendrá esa utilidad: mostrará las gráficas que hagamos así como la ayuda. Para ver la ayuda para las instrucciones de <code>R</code> puedes escribir <code>?</code>. Prueba teclear <code>?plot</code> en la consola. El signo de interrogación es un <code>help()</code> que muestra las instrucciones para usar una función.</li>
</ol>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-32"></span>
<img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-32-1.png" alt="La gráfica que aparece de hacer un `plot` de la base de datos de ejemplo." width="384" />
<p class="caption">
Figura 2.12: La gráfica que aparece de hacer un <code>plot</code> de la base de datos de ejemplo.
</p>
</div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-33"></span>
<img src="images/RStudio7.png" alt="El cuarto panel muestra respectivamente las gráficas y la ayuda." width="1440" />
<p class="caption">
Figura 2.13: El cuarto panel muestra respectivamente las gráficas y la ayuda.
</p>
</div>
<p>Mi sugerencia personal es que escribas todo lo que haces en el <code>Script</code> y que sólo utilices la consola para verificar valores. De esta manera podrás almacenar todas las instrucciones ejecutadas y volver a ellas cuando se requieran. Por último te sugiero utilizar <code>#</code> gatos para comentar tu código. Así, el código anterior lo podrías ver en la consola como:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="R.html#cb2-1"></a><span class="co">#Aquí pruebo cómo R hace las sumas</span></span>
<span id="cb2-2"><a href="R.html#cb2-2"></a><span class="dv">10</span> <span class="op">+</span><span class="st"> </span><span class="dv">9</span></span></code></pre></div>
<p><a href="https://www.freecodecamp.org/news/code-comments-the-good-the-bad-and-the-ugly-be9cc65fbf83/">Comenta</a>. <a href="https://www.c-sharpcorner.com/blogs/why-comments-are-important-while-writing-a-code">Comenta</a>. <a href="https://blog.codinghorror.com/code-tells-you-how-comments-tell-you-why/">Comenta, por favor</a>. Tu ser del futuro que regrese a sus archivos de <code>R</code> un mes después de haberlos hecho te lo agradecerá (y tu profe también).</p>
<p>Finalmente y como aclaración para estas notas, el código de <code>R</code> aparece como:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="R.html#cb3-1"></a><span class="co">#Esto es código de R</span></span>
<span id="cb3-2"><a href="R.html#cb3-2"></a><span class="dv">7</span> <span class="op">-</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<p>Mientras que los resultados de evaluar en <code>R</code> se ven con <code>#</code>:</p>
<pre><code>## [1] 5</code></pre>
<p>Así, la evaluación con su resultado se ve de la siguiente forma:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="R.html#cb5-1"></a><span class="co">#Esto es código de R</span></span>
<span id="cb5-2"><a href="R.html#cb5-2"></a><span class="dv">7</span> <span class="op">-</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 5</code></pre>
</div>
<div id="cálculos-numéricos" class="section level2">
<h2><span class="header-section-number">2.5</span> Cálculos numéricos</h2>
<p><code>R</code> sirve como calculadora para las operaciones usuales. En él puedes hacer sumas,</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="R.html#cb7-1"></a><span class="co">#Esto es una suma en R</span></span>
<span id="cb7-2"><a href="R.html#cb7-2"></a><span class="dv">12</span> <span class="op">+</span><span class="st"> </span><span class="dv">31</span></span></code></pre></div>
<pre><code>## [1] 43</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-39"></span>
<img src="images/ada_lovelace.jpg" alt="Ada Lovelace (1815-1852), la primera en diseñar un algoritmo computacional ¡y sin tener computadoras!" width="512" />
<p class="caption">
Figura 2.14: Ada Lovelace (1815-1852), la primera en diseñar un algoritmo computacional ¡y sin tener computadoras!
</p>
</div>
<p>restas,</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="R.html#cb9-1"></a><span class="co">#Esto es una resta en R</span></span>
<span id="cb9-2"><a href="R.html#cb9-2"></a><span class="dv">3</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] -1</code></pre>
<p>multiplicaciones,</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="R.html#cb11-1"></a><span class="co">#Esto es una multiplicación en R</span></span>
<span id="cb11-2"><a href="R.html#cb11-2"></a><span class="dv">7</span><span class="op">*</span><span class="dv">8</span></span></code></pre></div>
<pre><code>## [1] 56</code></pre>
<p>divisiones,</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="R.html#cb13-1"></a><span class="co">#Esto es una división en R</span></span>
<span id="cb13-2"><a href="R.html#cb13-2"></a><span class="dv">4</span><span class="op">/</span><span class="dv">2</span></span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>sacar logaritmos naturales <span class="math inline">\(\ln\)</span>,</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="R.html#cb15-1"></a><span class="co">#Para sacar logaritmo usas el comando log</span></span>
<span id="cb15-2"><a href="R.html#cb15-2"></a><span class="kw">log</span>(<span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 4.60517</code></pre>
<p>o bien logaritmos en cualquier base,<a href="#fn10" class="footnote-ref" id="fnref10"><sup>10</sup></a></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="R.html#cb17-1"></a><span class="co">#Puedes especificar la base del logaritmo con base </span></span>
<span id="cb17-2"><a href="R.html#cb17-2"></a><span class="kw">log</span>(<span class="dv">100</span>, <span class="dt">base =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>también puedes elevar a una potencia (por ejemplo hacer <span class="math inline">\(6^3\)</span>),</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="R.html#cb19-1"></a><span class="co">#Así se calculan potencias</span></span>
<span id="cb19-2"><a href="R.html#cb19-2"></a><span class="dv">6</span><span class="op">^</span><span class="dv">3</span></span></code></pre></div>
<pre><code>## [1] 216</code></pre>
<p>calcular la exponencial <span class="math inline">\(e\)</span>,</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="R.html#cb21-1"></a><span class="co">#Para exponenciales puedes usar exp</span></span>
<span id="cb21-2"><a href="R.html#cb21-2"></a><span class="kw">exp</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 2.718282</code></pre>
<p>o bien exponenciar cualquier variable <span class="math inline">\(e^{-3}\)</span>,</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="R.html#cb23-1"></a><span class="co">#O bien exponenciales específicas, e^-3</span></span>
<span id="cb23-2"><a href="R.html#cb23-2"></a><span class="kw">exp</span>(<span class="op">-</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] 0.04978707</code></pre>
<p>también puedes usar el número <span class="math inline">\(\pi\)</span>.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="R.html#cb25-1"></a><span class="co">#Cálculo de pi</span></span>
<span id="cb25-2"><a href="R.html#cb25-2"></a>pi</span></code></pre></div>
<pre><code>## [1] 3.141593</code></pre>
<p>No olvides que <code>R</code> usa el orden de las operaciones de matemáticas. Siempre es de izquierda a derecha con las siguientes excepciones:</p>
<ol style="list-style-type: decimal">
<li><p>Primero se evalúa lo que está entre paréntesis.</p></li>
<li><p>En segundo lugar se calculan potencias.</p></li>
<li><p>Lo tercero en evaluarse son multiplicaciones y divisiones.</p></li>
<li><p>Finalmente, se realizan sumas y restas.</p></li>
</ol>
<p>Por ejemplo, en la siguiente ecuación
<span class="math display">\[
2 - 2 \cdot \frac{(3^4 - 9)}{(5 + 4)}
\]</span>
se resuelven primero los paréntesis <span class="math inline">\((3^4 - 9) = 81 - 9 = 72\)</span> y <span class="math inline">\((5 + 4) = 9\)</span>; luego se resuelve la división: <span class="math inline">\(\frac{72}{9}=8\)</span>, se multiplica por el <span class="math inline">\(2\)</span>: <span class="math inline">\(2 \cdot 8 = 16\)</span> y finalmente se hace la resta: <span class="math inline">\(2-16 = -14\)</span>.</p>
<div id="ejercicio" class="section level3">
<h3><span class="header-section-number">2.5.1</span> Ejercicio</h3>
<p>Determina, sin evaluar, los resultados de los siguientes segmentos de código:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="R.html#cb27-1"></a><span class="co">#Primer ejercicio </span></span>
<span id="cb27-2"><a href="R.html#cb27-2"></a>(<span class="dv">9</span> <span class="op">-</span><span class="st"> </span><span class="dv">3</span>)<span class="op">^</span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>(<span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">-</span><span class="st"> </span><span class="dv">6</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="R.html#cb28-1"></a><span class="co">#Segundo ejercicio </span></span>
<span id="cb28-2"><a href="R.html#cb28-2"></a><span class="dv">6</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">/</span><span class="st"> </span>(<span class="dv">7</span> <span class="op">-</span><span class="st"> </span><span class="dv">3</span>) <span class="op">*</span><span class="st"> </span><span class="dv">5</span></span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="R.html#cb29-1"></a><span class="co">#Tercer ejercicio </span></span>
<span id="cb29-2"><a href="R.html#cb29-2"></a><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="dv">3</span> <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span><span class="dv">2</span> <span class="op">/</span><span class="st"> </span>(<span class="dv">5</span> <span class="op">-</span><span class="st"> </span><span class="dv">4</span>) <span class="op">*</span><span class="st"> </span><span class="dv">1</span> <span class="op">/</span><span class="st"> </span><span class="dv">10</span> </span></code></pre></div>
<p>Evalúa para comprobar tu respuesta.</p>
</div>
<div id="ejercicio-1" class="section level3">
<h3><span class="header-section-number">2.5.2</span> Ejercicio</h3>
<p>Calcula el área y el perímetro de un círculo de radio 5. Recuerda que la fórmula del área es <span class="math inline">\(\pi \cdot r^2\)</span> donde <span class="math inline">\(r\)</span> es el radio; mientras que la del perímetro es: <span class="math inline">\(\pi \cdot d\)</span> donde <span class="math inline">\(d\)</span> es el díametro (= dos veces el radio).</p>
</div>
<div id="respuestas" class="section level3">
<h3><span class="header-section-number">2.5.3</span> Respuestas</h3>
<pre><code>## Área = 78.5398163397448</code></pre>
<pre><code>## Perímetro = 31.4159265358979</code></pre>
</div>
</div>
<div id="variables" class="section level2">
<h2><span class="header-section-number">2.6</span> Variables</h2>
<p><code>R</code> es un programa orientado a objetos; esto quiere decir que <code>R</code> almacena la información en un conjunto de variables que pueden tener diferentes <code>clases</code> y opera con ellos según su clase. Por ejemplo, un conjunto de caracteres, entre comillas, es un <code>Character</code> (<code>R</code> lo piensa como texto)</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="R.html#cb32-1"></a><span class="co">#Un conjunto de caracteres es un char</span></span>
<span id="cb32-2"><a href="R.html#cb32-2"></a><span class="st">&quot;Hola&quot;</span></span></code></pre></div>
<pre><code>## [1] &quot;Hola&quot;</code></pre>
<p>Un número (por ejemplo <code>2</code> tiene clase <code>numeric</code>)<a href="#fn11" class="footnote-ref" id="fnref11"><sup>11</sup></a>. Hay que tener mucho cuidado con combinar floats con <code>Strings</code>:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="R.html#cb34-1"></a><span class="co">#Código que sí funciona porque ambos son números</span></span>
<span id="cb34-2"><a href="R.html#cb34-2"></a><span class="dv">2</span> <span class="op">+</span><span class="st"> </span><span class="dv">4</span> </span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-55"></span>
<img src="images/algorithm_lovelace.jpg" alt="El algoritmo diseñado por Ada Lovelace." width="960" />
<p class="caption">
Figura 2.15: El algoritmo diseñado por Ada Lovelace.
</p>
</div>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="R.html#cb36-1"></a><span class="co">#Código que no funciona porque uno es caracter</span></span>
<span id="cb36-2"><a href="R.html#cb36-2"></a><span class="dv">2</span> <span class="op">+</span><span class="st"> &quot;4&quot;</span> </span></code></pre></div>
<pre><code>## Error in 2 + &quot;4&quot;: non-numeric argument to binary operator</code></pre>
<p>Si lo piensas, este último error ¡tiene todo el sentido! no puedes sumar un número a un texto. ¿O qué significaría <code>'Felices' * 4</code> ?</p>
<p>La magia de <code>R</code> comienza con que puedes almacenar valores en variables. Por ejemplo, podemos asignar un valor a una variable:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="R.html#cb38-1"></a><span class="co">#Asignamos x = 10</span></span>
<span id="cb38-2"><a href="R.html#cb38-2"></a>x &lt;-<span class="st"> </span><span class="dv">10</span></span></code></pre></div>
<p>Hay dos formas de asignar valores, una es con la flecha de asignación <span class="math inline">\(\leftarrow\)</span> y otra con el signo de igual:</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="R.html#cb39-1"></a><span class="co">#Podemos asignar valores con el signo de =</span></span>
<span id="cb39-2"><a href="R.html#cb39-2"></a>y =<span class="st"> </span><span class="dv">6</span></span></code></pre></div>
<p>Nota que, cuando realizamos operaciones, la asignación es la última que se realiza:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="R.html#cb40-1"></a><span class="co">#Aquí z = 106</span></span>
<span id="cb40-2"><a href="R.html#cb40-2"></a>z &lt;-<span class="st"> </span>y <span class="op">+</span><span class="st"> </span>x<span class="op">^</span><span class="dv">2</span></span></code></pre></div>
<p>Los valores que fueron asignados en las variables, <code>R</code> los recuerda y es posible calcular con ellos:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="R.html#cb41-1"></a><span class="co">#Podemos realizar una suma</span></span>
<span id="cb41-2"><a href="R.html#cb41-2"></a>x <span class="op">+</span><span class="st"> </span>y</span></code></pre></div>
<pre><code>## [1] 16</code></pre>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="R.html#cb43-1"></a><span class="co">#O bien podemos realizar una multiplicación</span></span>
<span id="cb43-2"><a href="R.html#cb43-2"></a><span class="dv">3</span><span class="op">*</span>y <span class="op">-</span><span class="st"> </span>x</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>Podemos preguntarnos por el valor de las variables numéricas mediante los operadores <code>==</code> (sí, son dos iguales), <code>!=</code> (que es un <span class="math inline">\(\neq\)</span>) <code>&gt;</code>, <code>&gt;=</code>, <code>&lt;=</code> y <code>&lt;</code>:</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="R.html#cb45-1"></a><span class="co">#Podemos preguntarnos si x vale 4</span></span>
<span id="cb45-2"><a href="R.html#cb45-2"></a>x <span class="op">==</span><span class="st"> </span><span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<blockquote>
<p>El operador de asignación también se puede utilizar al revés <span class="math inline">\(2 \rightarrow x\)</span> pero no lo hagas, por favor.</p>
</blockquote>
<p>Nota que no estamos asignando el valor de <code>x</code>:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="R.html#cb47-1"></a>x</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Podemos preguntarnos por diferencia:</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="R.html#cb49-1"></a>x <span class="op">!=</span><span class="st"> </span><span class="dv">4</span> </span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Así como por mayores, menores incluyendo posibles igualdades (<em>i.e.</em> los casos <span class="math inline">\(\geq\)</span> y <span class="math inline">\(\leq\)</span>)</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="R.html#cb51-1"></a><span class="co">#Nos preguntamos si x &gt; y</span></span>
<span id="cb51-2"><a href="R.html#cb51-2"></a>x <span class="op">&gt;</span><span class="st"> </span>y</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="R.html#cb53-1"></a><span class="co">#Nos preguntamos si x &gt;= 10</span></span>
<span id="cb53-2"><a href="R.html#cb53-2"></a>x <span class="op">&gt;=</span><span class="st"> </span><span class="dv">10</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="R.html#cb55-1"></a><span class="co">#Nos preguntamos si y &lt; 6</span></span>
<span id="cb55-2"><a href="R.html#cb55-2"></a>y <span class="op">&lt;</span><span class="st"> </span><span class="dv">6</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="R.html#cb57-1"></a><span class="co">#O bien si y &lt;= 6</span></span>
<span id="cb57-2"><a href="R.html#cb57-2"></a>y <span class="op">&lt;=</span><span class="st"> </span><span class="dv">6</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>En todos los casos los resultados han sido <code>TRUE</code> ó <code>FALSE</code>. La clase de variables que toma valores <code>TRUE</code> ó <code>FALSE</code> se conoce como booleana. Hay que tener mucho cuidado con ellas porque, puedes acabar con resultados muy extraños:</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="R.html#cb59-1"></a><span class="co">#MALAS PRÁCTICAS, NO HAGAS ESTO</span></span>
<span id="cb59-2"><a href="R.html#cb59-2"></a><span class="co">#Cuando lo usas como número TRUE vale 1</span></span>
<span id="cb59-3"><a href="R.html#cb59-3"></a><span class="dv">100</span> <span class="op">+</span><span class="st"> </span><span class="ot">TRUE</span></span></code></pre></div>
<pre><code>## [1] 101</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="R.html#cb61-1"></a><span class="co">#MALAS PRÁCTICAS, NO HAGAS ESTO</span></span>
<span id="cb61-2"><a href="R.html#cb61-2"></a><span class="co">#Cuando lo usas como número FALSE vale 0</span></span>
<span id="cb61-3"><a href="R.html#cb61-3"></a><span class="dv">6</span><span class="op">*</span><span class="ot">FALSE</span></span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<blockquote>
<p><a href="https://medium.com/mindorks/common-bad-programming-practices-7fb470ed74d2">Aquí</a> puedes encontrar una lista de malas prácticas en computación a evitar.</p>
</blockquote>
<p>Finalmente, nota que es posible reescribir una variable y cambiar su valor:</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="R.html#cb63-1"></a><span class="co">#Aquí x vale 10, como antes</span></span>
<span id="cb63-2"><a href="R.html#cb63-2"></a>x</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="R.html#cb65-1"></a><span class="co">#Aquí cambianos el valor de x y valdrá 0.5</span></span>
<span id="cb65-2"><a href="R.html#cb65-2"></a>x &lt;-<span class="st"> </span><span class="fl">0.5</span></span>
<span id="cb65-3"><a href="R.html#cb65-3"></a>x</span></code></pre></div>
<pre><code>## [1] 0.5</code></pre>
<div id="ejercicios" class="section level3">
<h3><span class="header-section-number">2.6.1</span> Ejercicios</h3>
<p>Determina el valor que imprime <code>R</code> en cada caso, sin que corras los siguientes pedazos de código. Después, verifica tu respuesta con <code>R</code>:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="R.html#cb67-1"></a><span class="co">#Primer ejercicio</span></span>
<span id="cb67-2"><a href="R.html#cb67-2"></a>x &lt;-<span class="st"> </span><span class="dv">100</span></span>
<span id="cb67-3"><a href="R.html#cb67-3"></a>y &lt;-<span class="st"> </span><span class="dv">3</span></span>
<span id="cb67-4"><a href="R.html#cb67-4"></a>x <span class="op">&gt;</span><span class="st"> </span>y</span></code></pre></div>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="R.html#cb68-1"></a><span class="co">#Segundo ejercicio</span></span>
<span id="cb68-2"><a href="R.html#cb68-2"></a>z &lt;-<span class="st"> </span>(<span class="dv">4</span> <span class="op">-</span><span class="st"> </span><span class="dv">2</span>)<span class="op">^</span><span class="dv">3</span></span>
<span id="cb68-3"><a href="R.html#cb68-3"></a>z &lt;-<span class="st"> </span>z <span class="op">+</span><span class="st"> </span>z <span class="op">+</span><span class="st"> </span>z</span>
<span id="cb68-4"><a href="R.html#cb68-4"></a>z</span></code></pre></div>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="R.html#cb69-1"></a><span class="co">#Tercer ejercicio</span></span>
<span id="cb69-2"><a href="R.html#cb69-2"></a>x &lt;-<span class="st"> </span><span class="dv">3</span></span>
<span id="cb69-3"><a href="R.html#cb69-3"></a>y &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb69-4"><a href="R.html#cb69-4"></a>z &lt;-<span class="st"> </span>x <span class="op">*</span><span class="st"> </span>y</span>
<span id="cb69-5"><a href="R.html#cb69-5"></a>x &lt;-<span class="st"> </span><span class="dv">5</span></span>
<span id="cb69-6"><a href="R.html#cb69-6"></a>y &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb69-7"><a href="R.html#cb69-7"></a>z</span></code></pre></div>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="R.html#cb70-1"></a><span class="co">#Cuarto ejercicio</span></span>
<span id="cb70-2"><a href="R.html#cb70-2"></a>variable1 &lt;-<span class="st"> </span><span class="dv">1000</span></span>
<span id="cb70-3"><a href="R.html#cb70-3"></a>variable2 &lt;-<span class="st"> </span><span class="dv">100</span></span>
<span id="cb70-4"><a href="R.html#cb70-4"></a>variable3 &lt;-<span class="st"> </span>variable1<span class="op">/</span>variable2 <span class="op">&lt;=</span><span class="st"> </span><span class="dv">10</span></span>
<span id="cb70-5"><a href="R.html#cb70-5"></a>variable3</span></code></pre></div>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="R.html#cb71-1"></a><span class="co">#Quinto ejercicio</span></span>
<span id="cb71-2"><a href="R.html#cb71-2"></a><span class="st">&quot;2&quot;</span> <span class="op">-</span><span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="R.html#cb72-1"></a><span class="co">#Sexto ejercicio</span></span>
<span id="cb72-2"><a href="R.html#cb72-2"></a>(<span class="fl">0.1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span>) <span class="op">==</span><span class="st"> </span><span class="fl">0.3</span></span></code></pre></div>
</div>
<div id="nivel-3" class="section level3">
<h3><span class="header-section-number">2.6.2</span> NIVEL 3</h3>
<p>Determina, sin correr el programa, qué regresa la consola en este caso</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="R.html#cb73-1"></a>x &lt;-<span class="st"> </span><span class="dv">2</span> </span>
<span id="cb73-2"><a href="R.html#cb73-2"></a>x &lt;-<span class="st"> </span><span class="dv">5</span> <span class="op">+</span><span class="st"> </span>x -&gt;<span class="st"> </span>y -&gt;<span class="st"> </span>x</span>
<span id="cb73-3"><a href="R.html#cb73-3"></a>x &lt;-<span class="st"> </span>x<span class="op">^</span><span class="dv">2</span></span>
<span id="cb73-4"><a href="R.html#cb73-4"></a>x</span></code></pre></div>
<p>Comprueba con la consola tus resultados; puede que encuentres respuestas poco intuitivas.</p>
</div>
</div>
<div id="observaciones-sobre-la-aritmética-de-punto-flotante" class="section level2">
<h2><span class="header-section-number">2.7</span> Observaciones sobre la aritmética de punto flotante</h2>
<p>Si hiciste el penúltimo ejercicio (el cual, obviamente hiciste y comprobaste con la consola) podrás haber notado una trampa. Analicemos qué ocurre; quizá hicimos mal la suma</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="R.html#cb74-1"></a><span class="co">#Veamos si este lado está mal</span></span>
<span id="cb74-2"><a href="R.html#cb74-2"></a>(<span class="fl">0.1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>## [1] 0.3</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="R.html#cb76-1"></a><span class="co">#O si éste es el que tiene la trampa</span></span>
<span id="cb76-2"><a href="R.html#cb76-2"></a><span class="fl">0.3</span></span></code></pre></div>
<pre><code>## [1] 0.3</code></pre>
<p>Aparentemente no hay nada malo ¿qué rayos le pasa a <code>R</code>? La respuesta está <a href="https://www.youtube.com/watch?v=PZRI1IfStY0">en la aritmética de punto flotante</a>. Podemos pedirle a <code>R</code> que nos muestre los primeros 100 dígitos de la suma <code>0.1 + 0.1 + 0.1</code>:</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-75"></span>
<img src="images/Z3_Deutsches_Museum.jpeg" alt="Réplica de la Z3, la primer computadora con punto flotante (1941)." width="800" />
<p class="caption">
Figura 2.16: Réplica de la Z3, la primer computadora con punto flotante (1941).
</p>
</div>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="R.html#cb78-1"></a><span class="co">#Veamos qué pasa con la suma</span></span>
<span id="cb78-2"><a href="R.html#cb78-2"></a><span class="kw">options</span>(<span class="dt">digits =</span> <span class="dv">22</span>) <span class="co">#Cambiamos dígitos</span></span>
<span id="cb78-3"><a href="R.html#cb78-3"></a>(<span class="fl">0.1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span>)    <span class="co">#Sumamos</span></span></code></pre></div>
<pre><code>## [1] 0.3000000000000000444089</code></pre>
<blockquote>
<p>El comando <code>options(digits = 22)</code> especifica que <code>R</code> debe imprimir en la consola <code>22</code> dígitos. No más.</p>
</blockquote>
<p>¡<a href="https://www.youtube.com/watch?v=1jaCpeXg-gg">Ahí está el detalle</a>! <code>R</code> no sabe sumar. En general, ningún programa de computadora sabe hacerlo. Veamos otros ejemplos:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="R.html#cb80-1"></a><span class="fl">4.1</span> <span class="op">-</span><span class="st"> </span><span class="fl">0.1</span> <span class="co">#Debería dar 4</span></span></code></pre></div>
<pre><code>## [1] 3.999999999999999555911</code></pre>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="R.html#cb82-1"></a><span class="dv">3</span><span class="op">/</span><span class="dv">10</span>      <span class="co">#Debería ser 0.3</span></span></code></pre></div>
<pre><code>## [1] 0.2999999999999999888978</code></pre>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="R.html#cb84-1"></a><span class="kw">log</span>(<span class="dv">10</span><span class="op">^</span>(<span class="dv">12345</span>), <span class="dt">base =</span> <span class="dv">10</span>) <span class="co">#Debería dar 12345</span></span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<p>El problema está en cómo las computadoras representan los números. Ellas escriben los números en binario. Por ejemplo, 230 lo representan como 11100110 mientras que el 7 es: 111. El problema de las computadoras radica en que éstas tienen una memoria finita por lo que números muy grandes como: <span class="math inline">\(124765731467098372654176\)</span> la computadora hace lo mejor por representarlos eligiendo el más cercano:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="R.html#cb86-1"></a><span class="co">#Nota la diferencia entre lo que le decimos a R</span></span>
<span id="cb86-2"><a href="R.html#cb86-2"></a><span class="co">#y lo que resulta</span></span>
<span id="cb86-3"><a href="R.html#cb86-3"></a>x &lt;-<span class="st"> </span><span class="dv">124765731467098372654176</span></span>
<span id="cb86-4"><a href="R.html#cb86-4"></a>x</span></code></pre></div>
<pre><code>## [1] 124765731467098377420800</code></pre>
<blockquote>
<p>Un error de punto flotante en la vida real ocasionó en los años noventa, <a href="https://www.esa.int/Newsroom/Press_Releases/Ariane_501_-_Presentation_of_Inquiry_Board_report">la explosión del cohete <code>Ariane 5</code></a>. Moraleja: hay que tener cuidado y respeto al punto flotante.</p>
</blockquote>
<p>No olvides cambiar la cantidad de dígitos que deseas que imprima <code>R</code> en su consola de vuelta:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="R.html#cb88-1"></a><span class="kw">options</span>(<span class="dt">digits =</span> <span class="dv">6</span>) <span class="co">#Cambiamos dígitos</span></span></code></pre></div>
<p>El mismo problema ocurre con números decimales cuya representación binaria es periódica; por ejemplo el <span class="math inline">\(\frac{1}{10}\)</span> en binario se representa como <span class="math inline">\(0.0001100110011\overline{0011}\dots\)</span>. Como es el cuento de nunca acabar con dicho número, <code>R</code> lo trunca y almacena sólo los primeros dígitos de ahí que, cada vez que escribes <code>0.1</code>, <code>R</code> en realidad almacene el <code>0.1000000000000000055511</code> que es <em>casi lo mismo</em> pero no es estrictamente igual. Hay que tener mucho cuidado con esta inexactitud de las computadoras (inexactitud estudiada por la rama de <a href="https://www.springer.com/gp/book/9781461484523">Análisis Numérico</a>) pues puede generar varios resultados imprevistos.</p>
<div id="cómo-checar-un-if" class="section level3">
<h3><span class="header-section-number">2.7.1</span> ¿Cómo checar un if?</h3>
<p>En general lo que hacen las computadoras para comparar valores es que verifican que, en valor absoluto, el error sea pequeño. Recuerda que el valor absoluto de <span class="math inline">\(x\)</span>, <span class="math inline">\(|x|\)</span>, regresa siempre el positivo:
<span class="math display">\[
|4| = 4 \qquad \textrm{y} \qquad |-8| = 8
\]</span></p>
<p>Para verificar que algo es más o menos <span class="math inline">\(0.3\)</span> suele usarse el valor absoluto<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a> de la siguiente manera:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="R.html#cb89-1"></a><span class="kw">abs</span>( (<span class="fl">0.1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span> <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span>) <span class="op">-</span><span class="st"> </span><span class="fl">0.3</span> ) <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>.e<span class="dv">-6</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>donde <code>1.e-6</code> es notación corta para 0.000001 (también escrito como <span class="math inline">\(1\times 10^{-6}\)</span>). La pregunta que nos estamos haciendo es que si el error entre sumar <span class="math inline">\(0.1+0.1+0.1\)</span> y <span class="math inline">\(0.3\)</span> es muy pequeño <span class="math inline">\(&lt; 0.000001\)</span>:
<span class="math display">\[
| (0.1 + 0.1 + 0.1) - 0.3 | &lt; 0.000001
\]</span></p>
</div>
</div>
<div id="leer-y-almacenar-variables-en-r" class="section level2">
<h2><span class="header-section-number">2.8</span> Leer y almacenar variables en <code>R</code></h2>
<p>Para terminar esta sección, aprenderemos cómo guardar variables en <code>R</code>. Para eso, el concepto de directorio es uno de los más relevantes. En general, en computación, <a href="https://en.wikipedia.org/wiki/Working_directory">el directorio</a> se refiere a la dirección en tu computadora donde estás trabajando. Por ejemplo, si estás en una carpeta en tu escritorio de nombre “Ejercicios_R” probablemente tu directorio sea ‘~/Desktop/Ejercicios_R/’ (en Mac) o bien ‘~\Desktop\Ejercicios_R\’ en Windows<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a>. La forma de saber tu directorio (en general) es ir a la carpeta que te interesa y con clic derecho ver propiedades (o escribir <code>ls</code> en la terminal <code>Unix</code>).</p>
<p><code>R</code> tiene un directorio <code>default</code> que quién sabe dónde está (depende de tu instalación, generalmente está donde tu <code>Usuario</code>). Usualmente lo mejor es elegir un directorio para cada uno de los proyectos que hagas. Para ello si estás en <code>RStudio</code> puedes utilizar <code>Shift+Ctrl+H</code> (<code>Shift+Cmd+H</code> en Mac) o bien ir a <code>Session &gt; Set Working Directory &gt; Choose Directory</code> y elegir el directorio donde deseas trabajar tu proyecto. Pensando que elegiste el escritorio (<code>Desktop</code> en mi computadora) notarás que en la consola aparece el comando <code>setwd("~/Desktop")</code> (o bien con ‘\’ si eres Windows). Mi sugerencia es que copies ese comando en tu <code>Script</code> para que, la próxima vez que lo corras ya tengas preestablecido el directorio.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="R.html#cb91-1"></a><span class="co">#Si eres Mac/Linux</span></span>
<span id="cb91-2"><a href="R.html#cb91-2"></a><span class="kw">setwd</span>(<span class="st">&quot;~/Desktop&quot;</span>) </span>
<span id="cb91-3"><a href="R.html#cb91-3"></a></span>
<span id="cb91-4"><a href="R.html#cb91-4"></a><span class="co">#Si eres Windows</span></span>
<span id="cb91-5"><a href="R.html#cb91-5"></a><span class="kw">setwd</span>(<span class="st">&quot;C:\Users\Rodrigo\Desktop&quot;</span>) <span class="co">#Rodrigo = Mi usuario</span></span></code></pre></div>
<p>Podemos verificar el directorio elegido con <code>getwd()</code>:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="R.html#cb92-1"></a><span class="kw">getwd</span>()</span></code></pre></div>
<blockquote>
<p>En general es buena práctica en <code>R</code> establecer, hasta arriba del <code>Script</code>, el comando de directorio. Esto con el propósito de que, cuando compartas un archivo, la persona a quien le fue compartido el archivo pueda rápidamente elegir su propio directorio en su computadora.</p>
</blockquote>
<p>Probemos guardar unas variables en un archivo dentro de nuestro directorio. Para ello utilizaremos el comando <code>save</code>.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="R.html#cb93-1"></a><span class="co">#Crear las variables</span></span>
<span id="cb93-2"><a href="R.html#cb93-2"></a>x &lt;-<span class="st"> </span><span class="dv">200</span></span>
<span id="cb93-3"><a href="R.html#cb93-3"></a>y &lt;-<span class="st"> </span><span class="dv">100</span></span>
<span id="cb93-4"><a href="R.html#cb93-4"></a></span>
<span id="cb93-5"><a href="R.html#cb93-5"></a><span class="co">#Los archivos de variables de R son rda</span></span>
<span id="cb93-6"><a href="R.html#cb93-6"></a><span class="kw">save</span>(x,y, <span class="dt">file =</span> <span class="st">&quot;MisVariables.rda&quot;</span>)</span></code></pre></div>
<p>Si vas a tu directorio, notarás que el archivo <code>MisVariables.rda</code> acaba de ser creado. De esta forma <code>R</code> puede almacenar objetos creados en <code>R</code> que sólo <code>R</code> puede leer (más adelante veremos cómo exportar bases de datos y gráficas). Observa que en tu ambiente (si estás en <code>RStudio</code> puedes verlas en el panel 3) deben aparecer las variables que hemos usado hasta ahora:</p>
<pre><code>##  [1] &quot;x&quot;              &quot;y&quot;              &quot;z&quot;              &quot;tamaño.muestra&quot;
##  [5] &quot;Example1&quot;       &quot;muestra&quot;        &quot;pgorro&quot;         &quot;i&quot;             
##  [9] &quot;nsim&quot;           &quot;poblacion&quot;      &quot;conteo_rojos&quot;</code></pre>
<p>Podemos probar sumar nuestras variables y todo funciona súper:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="R.html#cb95-1"></a>x <span class="op">+</span><span class="st"> </span>y <span class="co">#Funciona magníficamente</span></span></code></pre></div>
<pre><code>## [1] 300</code></pre>
<p>Limpiemos el ambiente. El comando equivalente al <code>clear all</code> en <code>R</code> es un poco más complicado de memorizar:</p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="R.html#cb97-1"></a><span class="co">#EL clear all de R</span></span>
<span id="cb97-2"><a href="R.html#cb97-2"></a><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())</span></code></pre></div>
<p>Ahora, si vuelves a ver el ambiente, éste estará vacío: ¡hemos limpiado el historial! Nota que si intentamos operar con las variables, <code>R</code> ya no las recuerda:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="R.html#cb98-1"></a>x <span class="op">+</span><span class="st"> </span>y <span class="co">#Error</span></span></code></pre></div>
<pre><code>## Error in eval(expr, envir, enclos): object &#39;x&#39; not found</code></pre>
<blockquote>
<p>Así como hay que lavarse las manos antes de comer, es buen hábito limpiar todas las variables del ambiente de <code>R</code> antes de usarlo.</p>
</blockquote>
<p>Podemos leer la base de datos usando <code>load</code>:</p>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="R.html#cb100-1"></a><span class="co">#Leemos las variables</span></span>
<span id="cb100-2"><a href="R.html#cb100-2"></a><span class="kw">load</span>(<span class="st">&quot;MisVariables.rda&quot;</span>)</span>
<span id="cb100-3"><a href="R.html#cb100-3"></a></span>
<span id="cb100-4"><a href="R.html#cb100-4"></a><span class="co">#Una vez leídas podemos empezar a jugar con ellas</span></span>
<span id="cb100-5"><a href="R.html#cb100-5"></a>x <span class="op">+</span><span class="st"> </span>y <span class="co">#Ya funciona</span></span></code></pre></div>
<pre><code>## [1] 300</code></pre>
<p>Por último, es necesario resaltar la importancia del directorio. Para ello crea una nueva carpeta en tu escritorio de nombre <code>Mi_curso_de_R</code>. Mueve el archivo <code>"MisVariables.rda"</code> dentro de la carpeta. Borra todo e intenta leer de nuevo el archivo:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="R.html#cb102-1"></a><span class="co">#Borramos todo</span></span>
<span id="cb102-2"><a href="R.html#cb102-2"></a><span class="kw">rm</span>(<span class="dt">list =</span> <span class="kw">ls</span>())</span>
<span id="cb102-3"><a href="R.html#cb102-3"></a></span>
<span id="cb102-4"><a href="R.html#cb102-4"></a><span class="co">#Intentamos leer el archivo de nuevo</span></span>
<span id="cb102-5"><a href="R.html#cb102-5"></a><span class="kw">load</span>(<span class="st">&quot;MisVariables.rda&quot;</span>)</span></code></pre></div>
<p>Este error es porque <code>R</code> sigue pensando que nuestro directorio es el escritorio y está buscando el archivo ahí sin hallarlo. Para encontrarlo hay que cambiar el directorio a través de <code>RStudio</code> (ya sea <code>Ctrl+Shift+H</code> o <code>Session &gt;Set Working Directory &gt; Choose Directory</code>) o bien a través de comandos en <code>R</code>:</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="R.html#cb103-1"></a><span class="co">#Si eres Mac/Linux</span></span>
<span id="cb103-2"><a href="R.html#cb103-2"></a><span class="kw">setwd</span>(<span class="st">&quot;~/Desktop/Mi_curso_de_R&quot;</span>) </span>
<span id="cb103-3"><a href="R.html#cb103-3"></a></span>
<span id="cb103-4"><a href="R.html#cb103-4"></a><span class="co">#Si eres Windows</span></span>
<span id="cb103-5"><a href="R.html#cb103-5"></a><span class="kw">setwd</span>(<span class="st">&quot;C:\Users\Rodrigo\Desktop\Mi_curso_de_R&quot;</span>) <span class="co">#Rodrigo = Mi usuario</span></span></code></pre></div>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="R.html#cb104-1"></a><span class="co">#Aquí sí se puede leer</span></span>
<span id="cb104-2"><a href="R.html#cb104-2"></a><span class="kw">load</span>(<span class="st">&quot;MisVariables.rda&quot;</span>)</span></code></pre></div>
<div id="ejercicio-2" class="section level3">
<h3><span class="header-section-number">2.8.1</span> Ejercicio</h3>
<p>Responde a las siguientes preguntas:</p>
<ol style="list-style-type: decimal">
<li><p>¿Qué es el directorio y por qué es necesario establecerlo?</p></li>
<li><p>Si <code>R</code> me da el error <code>'No such file or directory'</code> ¿qué hice mal?</p></li>
<li><p>En <code>RStudio</code>, ¿qué hace <code>Session &gt; Restart R</code>? ¿cuál es la diferencia con <code>rm(list = ls())</code>?</p></li>
<li><p>¿Qué hace el comando <code>cat("\014")</code>? (<em>Ojo</em> puede que no haga nada). Si funciona, ¿cuál es la diferencia con <code>rm(list = ls())</code> y con <code>Restart R</code>?</p></li>
</ol>
</div>
</div>
<div id="instalación-de-paquetes" class="section level2">
<h2><span class="header-section-number">2.9</span> Instalación de paquetes</h2>
<p>Un paquete de <code>R</code> es un conjunto de funciones adicionales elaboradas por los usuarios, las cuales permiten hacer cosas adicionales en <code>R</code>. Para instalarlos requieres de una conexión a Internet (o bien puedes instalarlos a partir de un archivo, por ejemplo, mediante una <code>USB</code>). El comando de instalación es <code>install.packages</code> seguido del nombre del paquete. Por ejemplo (y por ocio) descarguemos el paquete <code>beepr</code> para hacer reproducir sonidos en la computadora<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a>. Para ello:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="R.html#cb105-1"></a><span class="kw">install.packages</span>(<span class="st">&quot;beepr&quot;</span>)</span></code></pre></div>
<pre><code>[...]
* DONE (beepr)

The downloaded source packages are in
    ‘/algun/lugar/downloaded_packages’</code></pre>
<p>Esto significa que el paquete ha sido instalado. Nos interesa usar la función <code>beep</code> que emite un sonido (<code>??beep</code> para ver la ayuda). Si la llamamos así tal cual, nos da error:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="R.html#cb107-1"></a><span class="kw">beep</span>(<span class="dv">3</span>)</span></code></pre></div>
<p><code>R</code> es incapaz de hallar la función porque aún no le hemos dicho dónde se encuentra. Para ello podemos llamar al paquete mediante la función <code>library</code> y decirle a <code>R</code> que incluya las funciones que se encuentran dentro de <code>beepr</code>:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="R.html#cb108-1"></a><span class="kw">library</span>(beepr)</span>
<span id="cb108-2"><a href="R.html#cb108-2"></a><span class="kw">beep</span>(<span class="dv">3</span>) <span class="co">#Esto produce un sonido</span></span></code></pre></div>
<p>El comando <code>library</code> le dice a <code>R</code> ¡hey, voy a usar unas funciones que creó alguien más y que están dentro del paquete <code>beepr</code>! De esta manera, al correr <code>beep(3)</code>, <code>R</code> ya sabe dónde hallar la función y por eso no arroja error.</p>
<div id="ejercicios-1" class="section level3">
<h3><span class="header-section-number">2.9.1</span> Ejercicios</h3>
<p><strong>NIVEL 1</strong></p>
<ol style="list-style-type: decimal">
<li>Instala los paquetes <code>tidyverse</code> en <code>R</code>.</li>
<li>De <code>tidyverse</code> haz lo necesario para que el siguiente bloque de código te arroje una gráfica:</li>
</ol>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="R.html#cb109-1"></a><span class="co">#Aquí tienes que hacer algo</span></span>
<span id="cb109-2"><a href="R.html#cb109-2"></a><span class="co">#</span></span>
<span id="cb109-3"><a href="R.html#cb109-3"></a><span class="co"># RELLENA AQUÍ</span></span>
<span id="cb109-4"><a href="R.html#cb109-4"></a><span class="co">#</span></span>
<span id="cb109-5"><a href="R.html#cb109-5"></a></span>
<span id="cb109-6"><a href="R.html#cb109-6"></a><span class="co">#Esto genera un histograma</span></span>
<span id="cb109-7"><a href="R.html#cb109-7"></a><span class="kw">set.seed</span>(<span class="dv">1364752</span>)</span>
<span id="cb109-8"><a href="R.html#cb109-8"></a>mis.datos &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">x =</span> <span class="kw">rnorm</span>(<span class="dv">1000</span>))</span>
<span id="cb109-9"><a href="R.html#cb109-9"></a><span class="kw">ggplot</span>(mis.datos, <span class="kw">aes</span>(<span class="dt">x =</span> x)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb109-10"><a href="R.html#cb109-10"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">bins =</span> <span class="dv">50</span>, <span class="dt">fill =</span> <span class="st">&quot;deepskyblue3&quot;</span>) <span class="op">+</span></span>
<span id="cb109-11"><a href="R.html#cb109-11"></a><span class="st">  </span><span class="kw">ggtitle</span>(<span class="st">&quot;Histograma generado por el código&quot;)</span></span></code></pre></div>
<p><img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-98-1.png" width="384" style="display: block; margin: auto;" /></p>
<p><strong>NIVEL 3</strong></p>
<ol style="list-style-type: decimal">
<li>Instala el paquete <code>devtools</code> (para hacerlo probablemente necesites instalar más cosas en tu computadora; averigua cuáles)</li>
<li>Usa <code>devtools</code> para instalar el paquete <a href="https://github.com/dill/emoGG"><code>emoGG</code></a> desde Github.</li>
<li>Verifica que tu instalación fue correcta haciendo la siguiente gráfica:</li>
</ol>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="R.html#cb110-1"></a><span class="kw">library</span>(emoGG)</span>
<span id="cb110-2"><a href="R.html#cb110-2"></a><span class="kw">ggplot</span>(mtcars, <span class="kw">aes</span>(wt, mpg))<span class="op">+</span><span class="st"> </span><span class="kw">geom_emoji</span>(<span class="dt">emoji=</span><span class="st">&quot;1f697&quot;</span>)</span></code></pre></div>
<p><img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-99-1.png" width="384" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="comentarios-adicionales-sobre-el-formato" class="section level2">
<h2><span class="header-section-number">2.10</span> Comentarios adicionales sobre el formato</h2>
<p>Así como en el español existen reglas de gramática para ponernos todos de acuerdo y entendernos entre todos, en <code>R</code> también existen <em>sugerencias</em> a seguir para escribir tu código. Las sugerencias que aquí aparecen fueron adaptadas de las que <a href="https://google.github.io/styleguide/Rguide.xml">utiliza el equipo de <code>Google</code></a>.</p>
<ol style="list-style-type: decimal">
<li><p>No escribas líneas de más de 80 caracteres (si se salió de tu pantalla, mejor continúa en el siguiente renglón).</p></li>
<li><p>Coloca espacios entre operadores <code>+,*,/,-,&lt;-,=, &lt;, &lt;=, &gt;, &gt;=, ==</code> y usa paréntesis para agrupar:</p></li>
</ol>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="R.html#cb111-1"></a><span class="co">#Esto no se ve muy bien</span></span>
<span id="cb111-2"><a href="R.html#cb111-2"></a><span class="kw">abs</span>(<span class="dv">3</span><span class="op">*</span><span class="dv">5</span><span class="op">/</span>(<span class="dv">4-9</span>)<span class="op">^</span><span class="dv">2-60</span><span class="op">/</span><span class="dv">100-888</span><span class="fl">+0.1</span><span class="op">*</span><span class="dv">8888-4</span><span class="op">/</span><span class="dv">10</span><span class="op">*</span><span class="dv">2</span>) <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>.e<span class="dv">-6</span></span>
<span id="cb111-3"><a href="R.html#cb111-3"></a></span>
<span id="cb111-4"><a href="R.html#cb111-4"></a><span class="co">#Los espacios permiten distinguir el orden de las operaciones</span></span>
<span id="cb111-5"><a href="R.html#cb111-5"></a><span class="kw">abs</span>( (<span class="dv">3</span> <span class="op">*</span><span class="st"> </span><span class="dv">5</span>) <span class="op">/</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">-</span><span class="st"> </span><span class="dv">9</span>)<span class="op">^</span><span class="dv">2</span> <span class="op">-</span><span class="st"> </span><span class="dv">60</span> <span class="op">/</span><span class="st"> </span><span class="dv">100</span> <span class="op">-</span><span class="st"> </span><span class="dv">888</span> </span>
<span id="cb111-6"><a href="R.html#cb111-6"></a>      <span class="op">+</span><span class="st"> </span>(<span class="fl">0.1</span> <span class="op">*</span><span class="st"> </span><span class="dv">8888</span>) <span class="op">-</span><span class="st"> </span>(<span class="dv">4</span> <span class="op">/</span><span class="st"> </span><span class="dv">10</span>) <span class="op">*</span><span class="st"> </span><span class="dv">2</span> ) <span class="op">&lt;</span><span class="st"> </span><span class="dv">1</span>.e<span class="dv">-6</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>Intenta alinear la asignación de variables para legibilidad:</li>
</ol>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="R.html#cb112-1"></a><span class="co">#Esto no tanto</span></span>
<span id="cb112-2"><a href="R.html#cb112-2"></a>altura &lt;-<span class="st"> </span><span class="fl">1.80</span></span>
<span id="cb112-3"><a href="R.html#cb112-3"></a>peso &lt;-<span class="st"> </span><span class="dv">80</span></span>
<span id="cb112-4"><a href="R.html#cb112-4"></a>edad &lt;-<span class="st"> </span><span class="dv">32</span></span>
<span id="cb112-5"><a href="R.html#cb112-5"></a></span>
<span id="cb112-6"><a href="R.html#cb112-6"></a><span class="co">#Esto se ve bien</span></span>
<span id="cb112-7"><a href="R.html#cb112-7"></a>altura &lt;-<span class="st"> </span><span class="fl">1.80</span></span>
<span id="cb112-8"><a href="R.html#cb112-8"></a>peso   &lt;-<span class="st"> </span><span class="dv">80</span></span>
<span id="cb112-9"><a href="R.html#cb112-9"></a>edad   &lt;-<span class="st"> </span><span class="dv">32</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Utiliza nombres que evoquen la variable que representas</li>
</ol>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="R.html#cb113-1"></a><span class="co">#Cuando regreses a esto no sabrás ni qué</span></span>
<span id="cb113-2"><a href="R.html#cb113-2"></a>x &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb113-3"><a href="R.html#cb113-3"></a>y &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb113-4"><a href="R.html#cb113-4"></a>z &lt;-<span class="st"> </span><span class="fl">3.14</span></span>
<span id="cb113-5"><a href="R.html#cb113-5"></a>W &lt;-<span class="st"> </span>z <span class="op">*</span><span class="st"> </span>x<span class="op">^</span>y <span class="co">#¿Qué calculé?</span></span>
<span id="cb113-6"><a href="R.html#cb113-6"></a></span>
<span id="cb113-7"><a href="R.html#cb113-7"></a><span class="co">#Es mejor especificar la variable</span></span>
<span id="cb113-8"><a href="R.html#cb113-8"></a>radio        &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb113-9"><a href="R.html#cb113-9"></a>potencia     &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb113-10"><a href="R.html#cb113-10"></a>pi_aprox     &lt;-<span class="st"> </span><span class="fl">3.14</span></span>
<span id="cb113-11"><a href="R.html#cb113-11"></a>area_circulo &lt;-<span class="st"> </span>pi_aprox <span class="op">*</span><span class="st"> </span>radio<span class="op">^</span>potencia</span></code></pre></div>
<ol start="5" style="list-style-type: decimal">
<li>No utilices un nombre demasiado similar para cosas diferentes.</li>
</ol>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="R.html#cb114-1"></a><span class="co">#Aquí, seguro eventualmente te vas a equivocar</span></span>
<span id="cb114-2"><a href="R.html#cb114-2"></a>altura &lt;-<span class="st"> </span><span class="dv">10</span>   <span class="co">#Altura del edificio</span></span>
<span id="cb114-3"><a href="R.html#cb114-3"></a>Altura &lt;-<span class="st"> </span><span class="fl">1.8</span>  <span class="co">#Mi altura</span></span>
<span id="cb114-4"><a href="R.html#cb114-4"></a>ALTURA &lt;-<span class="st"> </span><span class="dv">2000</span> <span class="co">#La altitud de la CDMX</span></span>
<span id="cb114-5"><a href="R.html#cb114-5"></a></span>
<span id="cb114-6"><a href="R.html#cb114-6"></a><span class="co">#Siempre elegir nombres claros, aunque largos</span></span>
<span id="cb114-7"><a href="R.html#cb114-7"></a>altura.edificio &lt;-<span class="st"> </span><span class="dv">10</span>   <span class="co">#Altura del edificio</span></span>
<span id="cb114-8"><a href="R.html#cb114-8"></a>altura.Rodrigo  &lt;-<span class="st"> </span><span class="fl">1.8</span>  <span class="co">#Mi altura</span></span>
<span id="cb114-9"><a href="R.html#cb114-9"></a>altura.CDMX     &lt;-<span class="st"> </span><span class="dv">2000</span> <span class="co">#La altitud de la CDMX</span></span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>Comenta:</li>
</ol>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="R.html#cb115-1"></a><span class="co">#¿Qué hace esto?</span></span>
<span id="cb115-2"><a href="R.html#cb115-2"></a>x &lt;-<span class="st"> </span><span class="dv">168</span></span>
<span id="cb115-3"><a href="R.html#cb115-3"></a>x &lt;-<span class="st"> </span>x<span class="op">/</span><span class="dv">100</span></span>
<span id="cb115-4"><a href="R.html#cb115-4"></a>y &lt;-<span class="st"> </span><span class="fl">71.2</span></span>
<span id="cb115-5"><a href="R.html#cb115-5"></a><span class="kw">print</span>(y<span class="op">/</span>x<span class="op">^</span><span class="dv">2</span>) </span>
<span id="cb115-6"><a href="R.html#cb115-6"></a>  </span>
<span id="cb115-7"><a href="R.html#cb115-7"></a><span class="co">#Es mejor así</span></span>
<span id="cb115-8"><a href="R.html#cb115-8"></a>altura &lt;-<span class="st"> </span><span class="dv">168</span>        <span class="co">#en centímetros</span></span>
<span id="cb115-9"><a href="R.html#cb115-9"></a>altura &lt;-<span class="st"> </span>altura<span class="op">/</span><span class="dv">100</span> <span class="co">#en metros</span></span>
<span id="cb115-10"><a href="R.html#cb115-10"></a>peso   &lt;-<span class="st"> </span><span class="fl">71.2</span>       <span class="co">#peso en kg</span></span>
<span id="cb115-11"><a href="R.html#cb115-11"></a><span class="kw">print</span>(peso<span class="op">/</span>altura<span class="op">^</span><span class="dv">2</span>) <span class="co">#índice masa corporal</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-105"></span>
<img src="images/tweet1.jpg" alt="Trad: Un periodista se acerca a un programador a preguntarle ¿qué hace que un código sea malo? -Sin comentarios." width="360" />
<p class="caption">
Figura 2.17: Trad: Un periodista se acerca a un programador a preguntarle ¿qué hace que un código sea malo? -Sin comentarios.
</p>
</div>
<ol start="7" style="list-style-type: decimal">
<li>Siempre pon las llamadas a los paquetes y el directorio al inicio de tu archivo para que otro usuario sepa qué necesita.</li>
</ol>
<p>Código limpio y legible:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="R.html#cb116-1"></a><span class="co">#Asumiendo aquí inicia el archivo:</span></span>
<span id="cb116-2"><a href="R.html#cb116-2"></a><span class="kw">setwd</span>(<span class="st">&quot;Mi directorio&quot;</span>)</span>
<span id="cb116-3"><a href="R.html#cb116-3"></a></span>
<span id="cb116-4"><a href="R.html#cb116-4"></a><span class="co">#Llamamos la librería</span></span>
<span id="cb116-5"><a href="R.html#cb116-5"></a><span class="kw">library</span>(beepr)</span>
<span id="cb116-6"><a href="R.html#cb116-6"></a><span class="kw">library</span>(tidyverse)</span>
<span id="cb116-7"><a href="R.html#cb116-7"></a></span>
<span id="cb116-8"><a href="R.html#cb116-8"></a><span class="co">#Analizamos una base de datos de R</span></span>
<span id="cb116-9"><a href="R.html#cb116-9"></a><span class="kw">data</span>(iris) <span class="co">#Base de datos de flores</span></span>
<span id="cb116-10"><a href="R.html#cb116-10"></a></span>
<span id="cb116-11"><a href="R.html#cb116-11"></a><span class="co">#Agrupamos la base por especie</span></span>
<span id="cb116-12"><a href="R.html#cb116-12"></a>iris.agrupada &lt;-<span class="st"> </span><span class="kw">group_by</span>(iris, Species)</span>
<span id="cb116-13"><a href="R.html#cb116-13"></a></span>
<span id="cb116-14"><a href="R.html#cb116-14"></a><span class="co">#Obtenemos la media por longitud de sépalo</span></span>
<span id="cb116-15"><a href="R.html#cb116-15"></a>iris.media    &lt;-<span class="st"> </span><span class="kw">summarise</span>(iris.agrupada, <span class="dt">SL.mean =</span> <span class="kw">mean</span>(Sepal.Length))</span>
<span id="cb116-16"><a href="R.html#cb116-16"></a></span>
<span id="cb116-17"><a href="R.html#cb116-17"></a><span class="co">#Avisa que ya terminó</span></span>
<span id="cb116-18"><a href="R.html#cb116-18"></a><span class="kw">beep</span>(<span class="dv">5</span>)</span></code></pre></div>
<p>es siempre preferible a código escrito <em>con prisas</em> :</p>
<div class="figure" style="text-align: center"><span id="fig:unnamed-chunk-107"></span>
<img src="images/Grandma-Finds-The-Internet.jpg" alt="Yo, leyendo mi código no comentado y con mala edición 6 meses después de haberlo hecho." width="320" />
<p class="caption">
Figura 2.18: Yo, leyendo mi código no comentado y con mala edición 6 meses después de haberlo hecho.
</p>
</div>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="R.html#cb117-1"></a><span class="kw">data</span>(iris);<span class="kw">setwd</span>(<span class="st">&quot;Mi directorio&quot;</span>)</span>
<span id="cb117-2"><a href="R.html#cb117-2"></a><span class="kw">library</span>(tidyverse);x&lt;-<span class="kw">group_by</span>(iris,Species  )</span>
<span id="cb117-3"><a href="R.html#cb117-3"></a><span class="co">#Aquí hacemos esto</span></span>
<span id="cb117-4"><a href="R.html#cb117-4"></a>iris.means=<span class="kw">summarise</span>( x,<span class="dt">SL.mean=</span><span class="kw">mean</span>(Sepal.Length));<span class="kw">library</span>(beepr);<span class="kw">beep</span>(<span class="dv">5</span>)<span class="co">#FIN</span></span></code></pre></div>
<p>Siempre escribe tu código pensando que alguien más (<a href="https://www.redaccionmedica.com/virico/noticias/el-gato-de-schrodinger-y-por-que-no-abrir-la-puerta-cerrada-de-la-consulta-5188">y ese alguien más puedes ser tú</a>) va a leerlo. ¡No olvides comentar!</p>
</div>
<div id="loops" class="section level2">
<h2><span class="header-section-number">2.11</span> Loops</h2>
<p>Vamos a analizar los ciclos (se encuentran en el <a href="http://cran.r-project.org/doc/manuals/R-lang.html#Looping">manual de R</a> por si gustas).</p>
</div>
<div id="for" class="section level2">
<h2><span class="header-section-number">2.12</span> For</h2>
<p>Al <code>for</code> lo alimentas con una lista de elementos y él (o ella) realizan la operación indicada con todos los elementos de la lista. Es decir el <code>for</code> recorre de uno por uno los elementos de una lista y les aplica una instrucción.</p>
<p>La estructura es como sigue:
<span class="math display">\[
\begin{equation}
\textrm{ for } \Big( \overbrace{i}^\text{Nombre de tu variable} \textrm{ in } \underbrace{1:10}_\text{Lista de elementos}\Big)  \overbrace{ \left \{\textrm{Házle algo a $i$} \right \} }^\text{Instrucción que aplicarle a cada elemento} 
\end{equation}
\]</span>
Por ejemplo una función que imprima los cuadrados de los primeros 10 números:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="R.html#cb118-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>){</span>
<span id="cb118-2"><a href="R.html#cb118-2"></a><span class="kw">print</span>(i<span class="op">^</span><span class="dv">2</span>)</span>
<span id="cb118-3"><a href="R.html#cb118-3"></a>}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 4
## [1] 9
## [1] 16
## [1] 25
## [1] 36
## [1] 49
## [1] 64
## [1] 81
## [1] 100</code></pre>
</div>
<div id="while" class="section level2">
<h2><span class="header-section-number">2.13</span> While</h2>
<p>El <code>while</code> es una instrucción peligrosa. Un <code>while</code> realiza una instrucción indefinidamente mientras se cumpla una condición. La estructura es como sigue:
<span class="math display">\[
\begin{equation}
\textrm{ while } \overbrace{\Big( \textrm{Condición fabulosa} \Big)}^\text{Cosas que tienen que cumplirse para seguir operando} \underbrace{ \left \{ \textrm{Cosas por hacer} \right \}}_\text{Instrucciones}
\end{equation}
\]</span>
Por ejemplo, mientras nuestro número <span class="math inline">\(i\)</span> sea <span class="math inline">\(\leq 5\)</span> le sumamos <span class="math inline">\(1\)</span>.
Por ejemplo, mientras nuestro número <span class="math inline">\(i\)</span> sea <span class="math inline">\(\leq 5\)</span> le sumamos <span class="math inline">\(1\)</span>.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="R.html#cb120-1"></a>i=<span class="dv">1</span></span>
<span id="cb120-2"><a href="R.html#cb120-2"></a><span class="cf">while</span> (i<span class="op">&lt;=</span><span class="dv">5</span>){</span>
<span id="cb120-3"><a href="R.html#cb120-3"></a><span class="kw">print</span>(i)</span>
<span id="cb120-4"><a href="R.html#cb120-4"></a>i=i<span class="op">+</span><span class="dv">1</span></span>
<span id="cb120-5"><a href="R.html#cb120-5"></a>}</span></code></pre></div>
<div class="Importante">
<p>
Es muy importante que pusiéramos <span class="math inline"><span class="math inline">\(i = i + 1\)</span></span> ya que esto obliga a que cada vez que da una vuelta la computadora sume el valor de <span class="math inline"><span class="math inline">\(i\)</span></span>. Sin ésta instrucción la <span class="math inline"><span class="math inline">\(i\)</span></span> valdría siempre 1 y jamás saldríamos del loop (jamás llegaría a valer 5). Si alguna vez quedas atrapado en un loop puedes usar el botón de STOP que tiene R junto a la consola o la tecla escape del teclado.
</p>
</div>
</div>
<div id="if-else-condicionales" class="section level2">
<h2><span class="header-section-number">2.14</span> If-else (condicionales)</h2>
<p>En el manual podemos encontrar la <a href="http://cran.r-project.org/doc/manuals/R-lang.html#if">sección de condicionales</a>. Los condicionales evalúan el camino que debe de seguir el código según una condición. Los condicionales tienen la siguiente estructura:</p>
<p><span class="math display">\[
\begin{align*}
if  (Condición)  \left \{  \right. \\ \\ \text{Cosas por hacer si ocurre la condición}  \\ \\ \left.  \right \} else \left \{ \right. \\ \\ \text{Cosas por hacer si no se cumple} \\ \\ \left. \right \} \\ \\
\end{align*}
\]</span></p>
<p>¡Vamos al ejemplo!</p>
<p>Asignemos, primero, el valor de 2 a <span class="math inline">\(i\)</span>:</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="R.html#cb121-1"></a>i =<span class="st"> </span><span class="dv">2</span></span></code></pre></div>
<p>Luego pongamos el condicional</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="R.html#cb122-1"></a><span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">5</span>){   <span class="co"># Nota el doble signo de igual &#39;==&#39;. </span></span>
<span id="cb122-2"><a href="R.html#cb122-2"></a>  i=i<span class="op">^</span><span class="dv">2</span>        <span class="co"># Si sólo pones uno, R hace que i=5.</span></span>
<span id="cb122-3"><a href="R.html#cb122-3"></a>}</span></code></pre></div>
<p>Veamos cuánto vale <span class="math inline">\(i\)</span></p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="R.html#cb123-1"></a><span class="kw">print</span>(i)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Hagamos ahora <span class="math inline">\(i = 5\)</span> y veamos qué pasa cuando atraviesa el condicional:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="R.html#cb125-1"></a>i =<span class="st"> </span><span class="dv">5</span></span>
<span id="cb125-2"><a href="R.html#cb125-2"></a><span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">5</span>){   </span>
<span id="cb125-3"><a href="R.html#cb125-3"></a>  i=i<span class="op">^</span><span class="dv">2</span>      </span>
<span id="cb125-4"><a href="R.html#cb125-4"></a>}</span>
<span id="cb125-5"><a href="R.html#cb125-5"></a><span class="kw">print</span>(i)</span></code></pre></div>
<pre><code>## [1] 25</code></pre>
<p>Hagamos ahora un condicional más complicado: pongamos que si <span class="math inline">\(i = 5\)</span> entonces haga <span class="math inline">\(i^2\)</span> pero si <span class="math inline">\(i \neq 5\)</span> entonces al valor de <span class="math inline">\(i\)</span> le sume <span class="math inline">\(1\)</span>:</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="R.html#cb127-1"></a>i=<span class="dv">1</span></span>
<span id="cb127-2"><a href="R.html#cb127-2"></a><span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">5</span>){</span>
<span id="cb127-3"><a href="R.html#cb127-3"></a>  i=i<span class="op">^</span><span class="dv">2</span></span>
<span id="cb127-4"><a href="R.html#cb127-4"></a>} <span class="cf">else</span> {</span>
<span id="cb127-5"><a href="R.html#cb127-5"></a>  i=i<span class="op">+</span><span class="dv">1</span></span>
<span id="cb127-6"><a href="R.html#cb127-6"></a>}</span>
<span id="cb127-7"><a href="R.html#cb127-7"></a><span class="kw">print</span>(i)</span></code></pre></div>
<pre><code>## [1] 2</code></pre>
</div>
<div id="and-or-operadores-lógicos" class="section level2">
<h2><span class="header-section-number">2.15</span> And-or (Operadores lógicos)</h2>
<p>¿Qué pasa si tienes varias condiciones que necesitas se cumplan a la vez? ¡Para eso están los <a href="http://cran.r-project.org/doc/manuals/R-lang.html#Operators">operadores lógicos</a>! .</p>
<div id="and" class="section level3">
<h3><span class="header-section-number">2.15.1</span> And</h3>
<p>Por ejemplo, supongamos queremos usar dos condiciones dentro del <code>if</code>. ¡Es muy fácil! Basta con escribir <code>Condición</code> 1 &amp; <code>Condición</code> 2.</p>
<p>Ejemplo:</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="R.html#cb129-1"></a>i=<span class="dv">1</span></span>
<span id="cb129-2"><a href="R.html#cb129-2"></a>j=<span class="dv">7</span></span>
<span id="cb129-3"><a href="R.html#cb129-3"></a><span class="cf">if</span>( (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">&amp;</span><span class="st"> </span>(i <span class="op">&lt;</span><span class="st"> </span>j) ) {</span>
<span id="cb129-4"><a href="R.html#cb129-4"></a>  i=i<span class="op">+</span>j  </span>
<span id="cb129-5"><a href="R.html#cb129-5"></a>}</span>
<span id="cb129-6"><a href="R.html#cb129-6"></a><span class="kw">print</span>(i)</span></code></pre></div>
<pre><code>## [1] 8</code></pre>
<p>Por otro lado si ahora hacemos <span class="math inline">\(i &gt; j\)</span>:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="R.html#cb131-1"></a>i=<span class="dv">11</span></span>
<span id="cb131-2"><a href="R.html#cb131-2"></a>j=<span class="dv">7</span></span>
<span id="cb131-3"><a href="R.html#cb131-3"></a><span class="cf">if</span>( (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">&amp;</span><span class="st"> </span>(i <span class="op">&lt;</span><span class="st"> </span>j) ) {</span>
<span id="cb131-4"><a href="R.html#cb131-4"></a>  i=i<span class="op">+</span>j  </span>
<span id="cb131-5"><a href="R.html#cb131-5"></a>}</span>
<span id="cb131-6"><a href="R.html#cb131-6"></a><span class="kw">print</span>(i)</span></code></pre></div>
<pre><code>## [1] 11</code></pre>
<p>Y si hacemos que <span class="math inline">\(i = 1\)</span> pero <span class="math inline">\(i &gt; j\)</span>:</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="R.html#cb133-1"></a>i=<span class="dv">1</span></span>
<span id="cb133-2"><a href="R.html#cb133-2"></a>j=<span class="dv">0</span></span>
<span id="cb133-3"><a href="R.html#cb133-3"></a><span class="cf">if</span>( (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">&amp;</span><span class="st"> </span>(i <span class="op">&lt;</span><span class="st"> </span>j) ) {</span>
<span id="cb133-4"><a href="R.html#cb133-4"></a>  i=i<span class="op">+</span>j  </span>
<span id="cb133-5"><a href="R.html#cb133-5"></a>}</span>
<span id="cb133-6"><a href="R.html#cb133-6"></a><span class="kw">print</span>(i)</span></code></pre></div>
<pre><code>## [1] 1</code></pre>
</div>
</div>
<div id="or" class="section level2">
<h2><span class="header-section-number">2.16</span> Or</h2>
<p>El <code>or</code> se usa en el caso de que querramos que se cumpla al menos una de dos condiciones del <code>if</code>. Es decir, si tenemos dos condiciones el or se cumple cuando se cumple una de ellas o cuando se cumplen ambas. Por ejemplo:</p>
<p>Cuando <span class="math inline">\(i = 1\)</span> con <span class="math inline">\(i &gt; j\)</span>:</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="R.html#cb135-1"></a>i=<span class="dv">1</span></span>
<span id="cb135-2"><a href="R.html#cb135-2"></a>j =<span class="st"> </span><span class="dv">1</span><span class="op">/</span><span class="dv">2</span></span>
<span id="cb135-3"><a href="R.html#cb135-3"></a><span class="cf">if</span>( (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">|</span><span class="st"> </span>(i <span class="op">&lt;</span><span class="st"> </span>j) ) {</span>
<span id="cb135-4"><a href="R.html#cb135-4"></a>i=i<span class="op">+</span>j</span>
<span id="cb135-5"><a href="R.html#cb135-5"></a>}</span>
<span id="cb135-6"><a href="R.html#cb135-6"></a><span class="kw">print</span>(i)</span></code></pre></div>
<pre><code>## [1] 1.5</code></pre>
<p>Cuando <span class="math inline">\(i \neq 1\)</span> pero <span class="math inline">\(i &lt; j\)</span>:</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="R.html#cb137-1"></a>i=<span class="dv">21</span></span>
<span id="cb137-2"><a href="R.html#cb137-2"></a>j =<span class="st"> </span><span class="dv">22</span></span>
<span id="cb137-3"><a href="R.html#cb137-3"></a><span class="cf">if</span>( (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">|</span><span class="st"> </span>(i <span class="op">&lt;</span><span class="st"> </span>j) ) {</span>
<span id="cb137-4"><a href="R.html#cb137-4"></a>i=i<span class="op">+</span>j</span>
<span id="cb137-5"><a href="R.html#cb137-5"></a>}</span>
<span id="cb137-6"><a href="R.html#cb137-6"></a><span class="kw">print</span>(i)</span></code></pre></div>
<pre><code>## [1] 43</code></pre>
<p>O bien cuando <span class="math inline">\(i \neq 1\)</span> e <span class="math inline">\(i &gt; j\)</span></p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="R.html#cb139-1"></a>i=<span class="dv">121</span></span>
<span id="cb139-2"><a href="R.html#cb139-2"></a>j =<span class="st"> </span><span class="dv">22</span></span>
<span id="cb139-3"><a href="R.html#cb139-3"></a><span class="cf">if</span>( (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>) <span class="op">|</span><span class="st"> </span>(i <span class="op">&lt;</span><span class="st"> </span>j) ) {</span>
<span id="cb139-4"><a href="R.html#cb139-4"></a>i=i<span class="op">+</span>j</span>
<span id="cb139-5"><a href="R.html#cb139-5"></a>}</span>
<span id="cb139-6"><a href="R.html#cb139-6"></a><span class="kw">print</span>(i)</span></code></pre></div>
<pre><code>## [1] 121</code></pre>
<p>La siguiente tabla resume cuándo se cumplen las condiciones:</p>
<p><span class="math display">\[
\begin{array}{ccccc} 
Condición 1 &amp; Condición 2 &amp; And &amp; Or \\
\hline
Si &amp; Si &amp; Si &amp; Si \\ 
Si &amp; No &amp; No &amp; Si \\ 
No &amp; Si &amp; No &amp; Si \\ 
No &amp; No &amp; No &amp; No \\ 
\end{array}
\]</span></p>
</div>
<div id="ejercicio-1-1" class="section level2">
<h2><span class="header-section-number">2.17</span> Ejercicio 1</h2>
<p>Crea los comandos necesarios para calcular la media y desviacion estandar del siguiente vector:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="R.html#cb141-1"></a>numeros &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">7.65688984</span>, <span class="fl">0.45416281</span>, <span class="fl">-0.53197482</span>, <span class="fl">-11.68901517</span>, </span>
<span id="cb141-2"><a href="R.html#cb141-2"></a>             <span class="fl">-0.22092715</span>, <span class="fl">-6.65860576</span>, <span class="fl">-0.96411401</span>, <span class="fl">-0.04875882</span>, </span>
<span id="cb141-3"><a href="R.html#cb141-3"></a>             <span class="fl">-0.88076032</span>, <span class="fl">-9.47716275</span>, <span class="fl">12.48699956</span>, <span class="fl">58.37690942</span>, </span>
<span id="cb141-4"><a href="R.html#cb141-4"></a>             <span class="fl">0.75332369</span>, <span class="fl">-0.07644519</span>, <span class="fl">-0.47168251</span>, <span class="fl">0.04574367</span>, </span>
<span id="cb141-5"><a href="R.html#cb141-5"></a>             <span class="fl">0.21158367</span>, <span class="fl">6.57919350</span>, <span class="fl">1.61654489</span>, <span class="fl">-144.28602691</span>)</span></code></pre></div>
<p>Tus resultados deberían ser:</p>
<pre><code>## [1] &quot;Media: -4.356206118&quot;</code></pre>
<pre><code>## [1] &quot;Desviación: 35.8220144835353&quot;</code></pre>
<p><code>Nota</code> Para el ejercicio puedes usar cualquier función de R excepto: <code>mean</code>, <code>sd</code>, <code>var</code>.</p>
<div class="Recuadro">
<p>
Por si no lo recuerdas, aquí están las definiciones de media y desviacion estándar. Si bien no es la única forma pues ¡hay varias definiciones equivalentes!.
</p>
</div>
</div>
<div id="media" class="section level2">
<h2><span class="header-section-number">2.18</span> Media</h2>
<p><span class="math display">\[
\begin{equation}
\textrm{Media de }X = \frac{x_1 + x_2 + \cdots + x_n}{n} 
\end{equation}
\]</span></p>
</div>
<div id="desviación-estándar" class="section level2">
<h2><span class="header-section-number">2.19</span> Desviación estándar</h2>
<p><span class="math display">\[
\begin{equation}
\textrm{Desviación Estándar de }X = \sqrt{\textrm{Media de }X^2 - \Big(\textrm{Media de }X\Big)^2} 
\end{equation}
\]</span></p>
</div>
<div id="ejercicio-2-1" class="section level2">
<h2><span class="header-section-number">2.20</span> Ejercicio 2</h2>
<p>Sin correr el siguiente pedazo de código en R, estima cuánto valdrá <span class="math inline">\(k\)</span> al final:</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="R.html#cb144-1"></a>k &lt;-<span class="st"> </span><span class="dv">3</span></span>
<span id="cb144-2"><a href="R.html#cb144-2"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>){</span>
<span id="cb144-3"><a href="R.html#cb144-3"></a>  </span>
<span id="cb144-4"><a href="R.html#cb144-4"></a>  <span class="cf">if</span> (i <span class="op">&gt;</span><span class="st"> </span>k <span class="op">||</span><span class="st"> </span>k <span class="op">==</span><span class="st"> </span><span class="dv">3</span>){</span>
<span id="cb144-5"><a href="R.html#cb144-5"></a>    </span>
<span id="cb144-6"><a href="R.html#cb144-6"></a>    k &lt;-<span class="st"> </span>k<span class="op">^</span><span class="dv">2</span></span>
<span id="cb144-7"><a href="R.html#cb144-7"></a>    </span>
<span id="cb144-8"><a href="R.html#cb144-8"></a>  } <span class="cf">else</span> <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">3</span> <span class="op">&amp;</span><span class="st"> </span>k <span class="op">==</span><span class="st"> </span><span class="dv">7</span>) {</span>
<span id="cb144-9"><a href="R.html#cb144-9"></a>    </span>
<span id="cb144-10"><a href="R.html#cb144-10"></a>    k &lt;-<span class="st"> </span>k <span class="op">-</span><span class="st"> </span><span class="dv">2</span></span>
<span id="cb144-11"><a href="R.html#cb144-11"></a>    </span>
<span id="cb144-12"><a href="R.html#cb144-12"></a>  } <span class="cf">else</span> <span class="cf">if</span> (k <span class="op">&gt;</span><span class="st"> </span>i <span class="op">&amp;</span><span class="st"> </span>i <span class="op">&lt;</span><span class="st"> </span><span class="dv">5</span>) {</span>
<span id="cb144-13"><a href="R.html#cb144-13"></a>    </span>
<span id="cb144-14"><a href="R.html#cb144-14"></a>    k &lt;-<span class="st"> </span>k<span class="op">*</span>i<span class="op">/</span><span class="dv">2</span></span>
<span id="cb144-15"><a href="R.html#cb144-15"></a>    </span>
<span id="cb144-16"><a href="R.html#cb144-16"></a>  } <span class="cf">else</span> <span class="cf">if</span> (k <span class="op">&gt;</span><span class="st"> </span>i <span class="op">&amp;</span><span class="st"> </span>i <span class="op">&gt;=</span><span class="st"> </span><span class="dv">5</span>) {</span>
<span id="cb144-17"><a href="R.html#cb144-17"></a>    </span>
<span id="cb144-18"><a href="R.html#cb144-18"></a>    k &lt;-<span class="st"> </span>k <span class="op">+</span><span class="st"> </span><span class="dv">1</span></span>
<span id="cb144-19"><a href="R.html#cb144-19"></a>    </span>
<span id="cb144-20"><a href="R.html#cb144-20"></a>  } <span class="cf">else</span> {</span>
<span id="cb144-21"><a href="R.html#cb144-21"></a>    </span>
<span id="cb144-22"><a href="R.html#cb144-22"></a>    k &lt;-<span class="st"> </span>k<span class="op">/</span><span class="dv">2</span></span>
<span id="cb144-23"><a href="R.html#cb144-23"></a>    </span>
<span id="cb144-24"><a href="R.html#cb144-24"></a>  }</span>
<span id="cb144-25"><a href="R.html#cb144-25"></a>  </span>
<span id="cb144-26"><a href="R.html#cb144-26"></a>}</span></code></pre></div>
</div>
<div id="ejercicio-3" class="section level2">
<h2><span class="header-section-number">2.21</span> Ejercicio 3</h2>
<p>Un grupo de investigadores tienen tres vectores de datos sobre individuos: <code>sexo</code>, <code>edad</code> y exposición (horas) a humo de tabaco <code>expo</code>.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="R.html#cb145-1"></a>sexo &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Hombre&quot;</span>,<span class="st">&quot;Mujer&quot;</span>,<span class="st">&quot;Mujer&quot;</span>,<span class="st">&quot;Mujer&quot;</span>,<span class="st">&quot;Hombre&quot;</span>,</span>
<span id="cb145-2"><a href="R.html#cb145-2"></a>          <span class="st">&quot;Mujer&quot;</span>,<span class="st">&quot;Hombre&quot;</span>,<span class="st">&quot;Hombre&quot;</span>)</span>
<span id="cb145-3"><a href="R.html#cb145-3"></a>edad &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">28</span>, <span class="dv">12</span>, <span class="dv">77</span>, <span class="dv">32</span>, <span class="dv">46</span>, <span class="dv">53</span>, <span class="dv">17</span>, <span class="dv">20</span>, <span class="dv">88</span>)</span>
<span id="cb145-4"><a href="R.html#cb145-4"></a>expo  &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="fl">1.5</span>, <span class="fl">2.2</span>, <span class="dv">2</span>, <span class="dv">5</span>, <span class="fl">1.01</span>, <span class="fl">3.2</span>)</span></code></pre></div>
<p>Ellos saben que por cada hora de exposición el riesgo relativo de enfermedad cardiovascular es de <span class="math inline">\(1.025\)</span> para hombres menores a 45 y <span class="math inline">\(1.032\)</span> para mujeres de la misma edad. Para mayores de 45, el riesgo es <span class="math inline">\(1.052\)</span> en caso de hombres y <span class="math inline">\(1.066\)</span> en caso de mujeres.</p>
<p>Los investigadores hicieron el siguiente código para estimar los riesgos de cada uno de los individuos. Ayúdalos a que su código funcione:</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="R.html#cb146-1"></a><span class="co">#Hay n personas: para cada una hay que calcular su riesgo </span></span>
<span id="cb146-2"><a href="R.html#cb146-2"></a></span>
<span id="cb146-3"><a href="R.html#cb146-3"></a>n      &lt;-<span class="st"> </span><span class="kw">length</span>(sexo)</span>
<span id="cb146-4"><a href="R.html#cb146-4"></a>riesgo &lt;-<span class="st"> </span><span class="kw">c</span>()</span>
<span id="cb146-5"><a href="R.html#cb146-5"></a><span class="cf">while</span> (persona <span class="op">&lt;</span><span class="st"> </span>n){</span>
<span id="cb146-6"><a href="R.html#cb146-6"></a>  </span>
<span id="cb146-7"><a href="R.html#cb146-7"></a>  <span class="co">#Checar la edad de la persona</span></span>
<span id="cb146-8"><a href="R.html#cb146-8"></a>  <span class="cf">if</span> (edad[persona] <span class="op">&lt;</span><span class="st"> </span><span class="dv">45</span>){</span>
<span id="cb146-9"><a href="R.html#cb146-9"></a>    </span>
<span id="cb146-10"><a href="R.html#cb146-10"></a>    <span class="co">#Checar el sexo</span></span>
<span id="cb146-11"><a href="R.html#cb146-11"></a>    <span class="cf">if</span> (sexo[persona] =<span class="st"> </span>Hombre){</span>
<span id="cb146-12"><a href="R.html#cb146-12"></a>      </span>
<span id="cb146-13"><a href="R.html#cb146-13"></a>      riesgo[persona] &lt;-<span class="st"> </span>expo[persona]<span class="op">*</span><span class="fl">1.025</span></span>
<span id="cb146-14"><a href="R.html#cb146-14"></a>      </span>
<span id="cb146-15"><a href="R.html#cb146-15"></a>    } <span class="cf">else</span> {</span>
<span id="cb146-16"><a href="R.html#cb146-16"></a>      </span>
<span id="cb146-17"><a href="R.html#cb146-17"></a>      riesgo[persona] &lt;-<span class="st"> </span>expo[persona]<span class="op">*</span><span class="fl">1.032</span></span>
<span id="cb146-18"><a href="R.html#cb146-18"></a>      </span>
<span id="cb146-19"><a href="R.html#cb146-19"></a>    }</span>
<span id="cb146-20"><a href="R.html#cb146-20"></a>    </span>
<span id="cb146-21"><a href="R.html#cb146-21"></a>  } <span class="cf">else</span> {</span>
<span id="cb146-22"><a href="R.html#cb146-22"></a>    </span>
<span id="cb146-23"><a href="R.html#cb146-23"></a>    <span class="co">#Checar el sexo</span></span>
<span id="cb146-24"><a href="R.html#cb146-24"></a>    <span class="cf">if</span> (sexo[persona] =<span class="st"> </span>Hombre){</span>
<span id="cb146-25"><a href="R.html#cb146-25"></a>      </span>
<span id="cb146-26"><a href="R.html#cb146-26"></a>      riesgo[persona] &lt;-<span class="st"> </span>expo[persona]<span class="op">*</span><span class="fl">1.052</span></span>
<span id="cb146-27"><a href="R.html#cb146-27"></a>      </span>
<span id="cb146-28"><a href="R.html#cb146-28"></a>    } <span class="cf">else</span> {</span>
<span id="cb146-29"><a href="R.html#cb146-29"></a>      </span>
<span id="cb146-30"><a href="R.html#cb146-30"></a>      riesgo[persona] &lt;-<span class="st"> </span>expo[persona]<span class="op">*</span><span class="fl">1.066</span></span>
<span id="cb146-31"><a href="R.html#cb146-31"></a>      </span>
<span id="cb146-32"><a href="R.html#cb146-32"></a>    }</span>
<span id="cb146-33"><a href="R.html#cb146-33"></a>    </span>
<span id="cb146-34"><a href="R.html#cb146-34"></a>  }</span>
<span id="cb146-35"><a href="R.html#cb146-35"></a>  </span>
<span id="cb146-36"><a href="R.html#cb146-36"></a>  </span>
<span id="cb146-37"><a href="R.html#cb146-37"></a>  </span>
<span id="cb146-38"><a href="R.html#cb146-38"></a>}</span></code></pre></div>
<p>Para que cheques que funcione, te dejo la respuesta. El riesgo es:</p>
<pre><code>## [1] 1.02500 0.00000 1.59900 2.27040 2.10400 5.33000 1.03525</code></pre>
</div>
<div id="advertencias-y-otras-cosas-poco-intuitivas" class="section level2">
<h2><span class="header-section-number">2.22</span> Advertencias y otras cosas poco intuitivas</h2>
<p>Es importante entender cómo funcionan las computadoras para poder simular (y entender los problemas de la simulación). Aunque los números son infinitos, las computadoras no tienen una cantidad infinita de dígitos. Por ejemplo, nosotros (humanos) podemos representar:
<span class="math display">\[
\begin{equation}
1 - 0.000000001 = 0.99999999
\end{equation}
\]</span>
La computadora no puede hacerlo:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="R.html#cb148-1"></a><span class="dv">1</span> <span class="op">-</span><span class="st"> </span><span class="fl">0.000000001</span></span></code></pre></div>
<pre><code>## [1] 1</code></pre>
<p>Tampoco puede representar números muy grandes:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="R.html#cb150-1"></a><span class="kw">exp</span>(<span class="dv">1000</span>)</span></code></pre></div>
<pre><code>## [1] Inf</code></pre>
<p>Mientras que para los humanos no hay ``un número positivo más chico’’ (si dices, por ejemplo, que <span class="math inline">\(0.00000000001\)</span> es el más chico de todos los positivos (no cero), siempre puedes dividirlo entre <span class="math inline">\(2\)</span>: <span class="math inline">\(0.00000000001/2\)</span> y obtener un número más pequeño) para las computadoras sí hay. Eso quiere decir que cuando hacemos una operación la computadora NO da la respuesta correcta sólo su mejor aproximación. A veces su mejor aproximación es la respuesta correcta:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="R.html#cb152-1"></a><span class="kw">sqrt</span>(<span class="dv">100</span>)</span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<p>Otras veces está cerca:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="R.html#cb154-1"></a><span class="kw">sqrt</span>(<span class="fl">12345678.12345678</span><span class="op">^</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 12345678</code></pre>
<p>Pero…</p>
</div>
<div id="donde-fallan-estas-cosas" class="section level2">
<h2><span class="header-section-number">2.23</span> Donde fallan estas cosas</h2>
<p>Intuitivamente, los decimales que nos acabamos de comer en el inciso anterior no importan ¡son simples decimales! El siguiente ejemplo muestra que sí importan.</p>
<p>Este ejemplo calcula una función recursivamente. ¿Puedes explicar qué estamos haciendo?</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="R.html#cb156-1"></a>ejemplo &lt;-<span class="st"> </span><span class="kw">c</span>()</span>
<span id="cb156-2"><a href="R.html#cb156-2"></a>a       &lt;-<span class="st"> </span><span class="fl">2.701</span></span>
<span id="cb156-3"><a href="R.html#cb156-3"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>){</span>
<span id="cb156-4"><a href="R.html#cb156-4"></a>  </span>
<span id="cb156-5"><a href="R.html#cb156-5"></a>  <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>){</span>
<span id="cb156-6"><a href="R.html#cb156-6"></a>    </span>
<span id="cb156-7"><a href="R.html#cb156-7"></a>    ejemplo[i] &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb156-8"><a href="R.html#cb156-8"></a>    </span>
<span id="cb156-9"><a href="R.html#cb156-9"></a>  } <span class="cf">else</span> {</span>
<span id="cb156-10"><a href="R.html#cb156-10"></a>    </span>
<span id="cb156-11"><a href="R.html#cb156-11"></a>    ejemplo[i] &lt;-<span class="st"> </span>ejemplo[i<span class="dv">-1</span>] <span class="op">+</span><span class="st"> </span></span>
<span id="cb156-12"><a href="R.html#cb156-12"></a><span class="st">                  </span>a<span class="op">*</span>ejemplo[i<span class="dv">-1</span>]<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>ejemplo[i<span class="dv">-1</span>]<span class="op">/</span><span class="dv">100</span>)</span>
<span id="cb156-13"><a href="R.html#cb156-13"></a>    </span>
<span id="cb156-14"><a href="R.html#cb156-14"></a>  }</span>
<span id="cb156-15"><a href="R.html#cb156-15"></a>  </span>
<span id="cb156-16"><a href="R.html#cb156-16"></a>}</span>
<span id="cb156-17"><a href="R.html#cb156-17"></a> </span>
<span id="cb156-18"><a href="R.html#cb156-18"></a><span class="kw">print</span>(ejemplo[<span class="dv">100</span>])</span></code></pre></div>
<pre><code>## [1] 125.863</code></pre>
<p>El ejemplo anterior resulta en un maravilloso resultado de ejemplo[100]. Redondeemos a dos decimales el valor de <span class="math inline">\(a\)</span> para que sea <span class="math inline">\(2.70\)</span>. Intuitivamente, el valor debería estar cerca y ser ciento y tantos. Pues no…</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="R.html#cb158-1"></a>ejemplo2 &lt;-<span class="st"> </span><span class="kw">c</span>()</span>
<span id="cb158-2"><a href="R.html#cb158-2"></a>a       &lt;-<span class="st"> </span><span class="fl">2.70</span></span>
<span id="cb158-3"><a href="R.html#cb158-3"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>){</span>
<span id="cb158-4"><a href="R.html#cb158-4"></a>  </span>
<span id="cb158-5"><a href="R.html#cb158-5"></a>  <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>){</span>
<span id="cb158-6"><a href="R.html#cb158-6"></a>    </span>
<span id="cb158-7"><a href="R.html#cb158-7"></a>    ejemplo2[i] &lt;-<span class="st"> </span><span class="dv">10</span></span>
<span id="cb158-8"><a href="R.html#cb158-8"></a>    </span>
<span id="cb158-9"><a href="R.html#cb158-9"></a>  } <span class="cf">else</span> {</span>
<span id="cb158-10"><a href="R.html#cb158-10"></a>    </span>
<span id="cb158-11"><a href="R.html#cb158-11"></a>    ejemplo2[i] &lt;-<span class="st"> </span>ejemplo2[i<span class="dv">-1</span>] <span class="op">+</span><span class="st"> </span></span>
<span id="cb158-12"><a href="R.html#cb158-12"></a><span class="st">                   </span>a<span class="op">*</span>ejemplo2[i<span class="dv">-1</span>]<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>ejemplo2[i<span class="dv">-1</span>]<span class="op">/</span><span class="dv">100</span>)</span>
<span id="cb158-13"><a href="R.html#cb158-13"></a>    </span>
<span id="cb158-14"><a href="R.html#cb158-14"></a>  }</span>
<span id="cb158-15"><a href="R.html#cb158-15"></a>  </span>
<span id="cb158-16"><a href="R.html#cb158-16"></a>}</span>
<span id="cb158-17"><a href="R.html#cb158-17"></a> </span>
<span id="cb158-18"><a href="R.html#cb158-18"></a><span class="kw">print</span>(ejemplo2[<span class="dv">100</span>])</span></code></pre></div>
<pre><code>## [1] 87.0938</code></pre>
<p>¡Resulta que con cambiar un decimal, el resultado cambió hasta ejemplo2[100]!
La gráfica siguiente muestra como varían los valores coincidiendo al inicio y alejándose después:</p>
<p><img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-136-1.png" width="384" style="display: block; margin: auto;" /></p>
</div>
<div id="números-pseudoaleatorios" class="section level2">
<h2><span class="header-section-number">2.24</span> Números pseudoaleatorios</h2>
<p>Para simular necesitamos generar números aleatorios. La única forma que tenemos de hacerlo (actualmente) es por medio de isótopos radiactivos que decaen aleatoriamente. ¡Si tienes uno guardado por ahí es el momento de usarlo!</p>
<p>Como no es muy bueno que tengamos por ahí material radiactivo, los matemáticos han generado números que se conocen como pseudoaleatorios. Estas son funciones (como la del apartado anterior) que si conoces el valor inicial (en el caso pasado, <span class="math inline">\(a\)</span>) las funciones son tan alocadas que los números que resultan de ella ‘’parecen aleatorios’’.</p>
</div>
<div id="ejercicio-4" class="section level2">
<h2><span class="header-section-number">2.25</span> Ejercicio 4</h2>
<p>Considera los siguientes dos fragmentos de código. Analiza los resultados. ¿Cuál de ellos es un mejor generador pseudoaleatorio y por qué?</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="R.html#cb160-1"></a>a         &lt;-<span class="st"> </span><span class="dv">2</span></span>
<span id="cb160-2"><a href="R.html#cb160-2"></a>aleatorio &lt;-<span class="st"> </span><span class="kw">c</span>()</span>
<span id="cb160-3"><a href="R.html#cb160-3"></a><span class="cf">for</span>( i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>){</span>
<span id="cb160-4"><a href="R.html#cb160-4"></a>  aleatorio[i] &lt;-<span class="st"> </span>a <span class="op">+</span><span class="st"> </span>i</span>
<span id="cb160-5"><a href="R.html#cb160-5"></a>}</span></code></pre></div>
<pre><code>## [1] 3 4 5 6 7 8</code></pre>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="R.html#cb162-1"></a>aleatorio2 &lt;-<span class="st"> </span><span class="kw">c</span>()</span>
<span id="cb162-2"><a href="R.html#cb162-2"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">100</span>){</span>
<span id="cb162-3"><a href="R.html#cb162-3"></a>  </span>
<span id="cb162-4"><a href="R.html#cb162-4"></a>  <span class="cf">if</span> (i <span class="op">==</span><span class="st"> </span><span class="dv">1</span>){</span>
<span id="cb162-5"><a href="R.html#cb162-5"></a>    </span>
<span id="cb162-6"><a href="R.html#cb162-6"></a>    aleatorio2[i] &lt;-<span class="st"> </span><span class="fl">0.9</span></span>
<span id="cb162-7"><a href="R.html#cb162-7"></a>    </span>
<span id="cb162-8"><a href="R.html#cb162-8"></a>  } <span class="cf">else</span> {</span>
<span id="cb162-9"><a href="R.html#cb162-9"></a>    </span>
<span id="cb162-10"><a href="R.html#cb162-10"></a>    aleatorio2[i] &lt;-<span class="st"> </span>aleatorio2[i<span class="dv">-1</span>] <span class="op">+</span><span class="st"> </span></span>
<span id="cb162-11"><a href="R.html#cb162-11"></a><span class="st">                   </span><span class="fl">2.81</span><span class="op">*</span>aleatorio2[i<span class="dv">-1</span>]<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>aleatorio2[i<span class="dv">-1</span>]<span class="op">/</span><span class="dv">17</span>)</span>
<span id="cb162-12"><a href="R.html#cb162-12"></a>  }</span>
<span id="cb162-13"><a href="R.html#cb162-13"></a>  </span>
<span id="cb162-14"><a href="R.html#cb162-14"></a>}</span></code></pre></div>
<pre><code>## [1]  0.90000  3.29511 10.75965 21.85816  4.30552 13.33989</code></pre>
</div>
<div id="aleatoreidad-en-r" class="section level2">
<h2><span class="header-section-number">2.26</span> Aleatoreidad en R</h2>
<p>Nuestra semilla</p>
<p>Si un día despiertas con ganas de tener 10 números aleatorios, en R ¡puedes hacerlo!:</p>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="R.html#cb164-1"></a><span class="kw">runif</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] 0.47 0.34 0.33 0.48 0.25 0.31 0.03 0.40 0.72 0.22</code></pre>
<p>Además puedes especificar la distribución. Por ejemplo, ahora sacaremos 7 números aleatorios de una normal estándar:</p>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="R.html#cb166-1"></a><span class="kw">rnorm</span>(<span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1]  1.08 -0.72 -0.33 -0.57  0.58  0.55  0.40</code></pre>
<p>O bien 8 valores de una exponencial con parámetro 5:</p>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="R.html#cb168-1"></a><span class="kw">rexp</span>(<span class="dv">8</span>,<span class="dt">rate=</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] 0.18 0.14 0.02 0.44 0.03 0.23 0.76 0.25</code></pre>
<p>Vamos entonces a simular 1,000 números alearorios de una normal estándar:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="R.html#cb170-1"></a>y=<span class="kw">rnorm</span>(<span class="dv">1000</span>)</span></code></pre></div>
<p>Un comando muy útil es la función <code>summary</code> que resume los cuantiles principales de la distribución así como el mínimo, el máximo y el promedio.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="R.html#cb171-1"></a><span class="kw">summary</span>(y)</span></code></pre></div>
<pre><code>##     Min.  1st Qu.   Median     Mean  3rd Qu.     Max. 
## -3.18147 -0.65403 -0.00277 -0.01685  0.64435  3.63367</code></pre>
<p>Al momento de pedir ayuda para el comando <code>rnorm</code> nos podemos dar cuenta de otras funciones interesantes relacionadas con la normal:</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="R.html#cb173-1"></a>?rnorm</span></code></pre></div>
<p>Podemos, estimar, por ejemplo, la densidad acumulada de una normal estándar en el 0. Es decir, ¿a qué percentil de una normal corresponde el 0?</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="R.html#cb174-1"></a><span class="kw">pnorm</span>(<span class="dv">0</span>)</span></code></pre></div>
<pre><code>## [1] 0.5</code></pre>
<p>Podemos hacer lo mismo para los números entre -10 y 10:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="R.html#cb176-1"></a><span class="kw">pnorm</span>(<span class="op">-</span><span class="dv">10</span><span class="op">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] 7.61985e-24 1.12859e-19 6.22096e-16 1.27981e-12 9.86588e-10 2.86652e-07
##  [7] 3.16712e-05 1.34990e-03 2.27501e-02 1.58655e-01 5.00000e-01 8.41345e-01
## [13] 9.77250e-01 9.98650e-01 9.99968e-01 1.00000e+00 1.00000e+00 1.00000e+00
## [19] 1.00000e+00 1.00000e+00 1.00000e+00</code></pre>
<p>Igualmente podemos graficar cómo se ven:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="R.html#cb178-1"></a><span class="kw">plot</span>(<span class="op">-</span><span class="dv">10</span><span class="op">:</span><span class="dv">10</span>,<span class="kw">pnorm</span>(<span class="op">-</span><span class="dv">10</span><span class="op">:</span><span class="dv">10</span>))</span></code></pre></div>
<p><img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-153-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>O bien graficar la función de distribución de una normal entre -10 y 10:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="R.html#cb179-1"></a><span class="kw">plot</span>(<span class="op">-</span><span class="dv">10</span><span class="op">:</span><span class="dv">10</span>,<span class="kw">dnorm</span>(<span class="op">-</span><span class="dv">10</span><span class="op">:</span><span class="dv">10</span>))</span></code></pre></div>
<p><img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-154-1.png" width="384" style="display: block; margin: auto;" /></p>
<p>¿Notas cómo nos faltan números en medio? Es porque el comando <code>-10:10</code> recorre los números entre -10 y 10 de 1 en 1.</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="R.html#cb180-1"></a><span class="dv">-10</span><span class="op">:</span><span class="dv">10</span></span></code></pre></div>
<pre><code>##  [1] -10  -9  -8  -7  -6  -5  -4  -3  -2  -1   0   1   2   3   4   5   6   7   8
## [20]   9  10</code></pre>
<p>Para hacer más refinada la cantidad de puntos podemos hacer ahora una nueva secuencia pero yendo de 0.1 en 0.1:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="R.html#cb182-1"></a>x =<span class="st"> </span><span class="kw">seq</span>(<span class="op">-</span><span class="dv">10</span>,<span class="dv">10</span>,<span class="fl">0.1</span>)</span></code></pre></div>
<p>Puedes ver cómo se guardaron estos valores (este documento nada más muestra los primeros 9 porque es desperdiciar mucho espacio poner los 201 valores que hizo R)</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="R.html#cb183-1"></a>x</span></code></pre></div>
<pre><code>## [1] -10.0  -9.9  -9.8  -9.7  -9.6  -9.5  -9.4  -9.3  -9.2</code></pre>
<p>¡La gráfica ahora se ve genial!</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="R.html#cb185-1"></a><span class="kw">plot</span>(x,<span class="kw">dnorm</span>(x))</span></code></pre></div>
<p><img src="InferenciaEstadistica_files/figure-html/unnamed-chunk-159-1.png" width="384" style="display: block; margin: auto;" /></p>
</div>
<div id="las-semillas" class="section level2">
<h2><span class="header-section-number">2.27</span> Las semillas</h2>
<p>En el apartado anterior dijimos que los números de R no eran aleatorios sino pseudoaleatorios y que estos se generaban por medio de una función. Cuando estamos haciendo investigación con simulaciones, para que nuestro estudio sea reproducible, aunque usemos números aleatorios, debemos usar siempre los mismos. La semilla se asegura de ello. Para poner una semilla usa el comando <code>set.seed</code> y pon dentro un entero.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="R.html#cb186-1"></a><span class="kw">set.seed</span>(<span class="dv">1234</span>)</span></code></pre></div>
<p>Obtengamos un número aleatorio normal:</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="R.html#cb187-1"></a><span class="kw">rnorm</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] -1.20707</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="R.html#cb189-1"></a><span class="kw">rnorm</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] 0.277429</code></pre>
<p>Volvamos a poner la semilla y saquemos un tercero:</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="R.html#cb191-1"></a><span class="kw">set.seed</span>(<span class="dv">1234</span>)</span>
<span id="cb191-2"><a href="R.html#cb191-2"></a><span class="kw">rnorm</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] -1.20707</code></pre>
<p>¿Notas que es el mismo número que al inicio?</p>
</div>
<div id="ejercicio-5" class="section level2">
<h2><span class="header-section-number">2.28</span> Ejercicio 5</h2>
<p>Considera una población cuyo peso se distribuye normal con media 69 y desviación estándar 4.7. Esa misma población tiene una altura normal con media 1.8 <span class="math inline">\(m^2\)</span> y desviación estándar de <span class="math inline">\(0.05\)</span>. Simula su índice de masa corporal. Calcula la media y desviación estándar del mismo. ¡No te olvides de usar una semilla!</p>
</div>
<div id="ejercicio-6" class="section level2">
<h2><span class="header-section-number">2.29</span> Ejercicio 6</h2>
<p>Un grupo de investigadores ha decidido que el índice de masa corporal tiene una distribución Cauchy y han simulado el índice de masa corporal como sigue:</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="R.html#cb193-1"></a><span class="kw">set.seed</span>(<span class="dv">6207</span>)</span>
<span id="cb193-2"><a href="R.html#cb193-2"></a><span class="co">#Simular IMC</span></span>
<span id="cb193-3"><a href="R.html#cb193-3"></a>imc &lt;-<span class="st"> </span><span class="kw">rcauchy</span>(<span class="dv">100</span>,<span class="dv">25</span>,<span class="fl">0.9</span>)</span>
<span id="cb193-4"><a href="R.html#cb193-4"></a></span>
<span id="cb193-5"><a href="R.html#cb193-5"></a><span class="co">#Calcular la media</span></span>
<span id="cb193-6"><a href="R.html#cb193-6"></a><span class="kw">mean</span>(imc)</span></code></pre></div>
<p>El código es correcto. Pero la hipótesis de la distribución Cauchy no. Calcula la media varias veces usando diferentes semillas ¿Cuál es el problema? ¿Ocurre lo mismo si calculas la mediana?</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="4">
<li id="fn4"><p>Modelos de simulación más avanzados suelen hacerse en <code>C</code>, <code>C++</code> o <code>Fortran</code> por su velocidad; empero, es necesario conocer más de programación.<a href="R.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>La práctica hace al maestro<a href="R.html#fnref5" class="footnote-back">↩︎</a></p></li>
<li id="fn6"><p>De ahí que se llame <code>R</code> porque la <code>R</code> es una mejor letra que la <code>S</code> (todos lo sabemos)
-Atte. Rodrigo, el autor de este documento.<a href="R.html#fnref6" class="footnote-back">↩︎</a></p></li>
<li id="fn7"><p>Mejor conocidos ahora como AT&amp;T, la compañía celular que nunca tiene señal.<a href="R.html#fnref7" class="footnote-back">↩︎</a></p></li>
<li id="fn8"><p>Sus nombres empiezan con la letra <code>R</code> ¿coincidencia?<a href="R.html#fnref8" class="footnote-back">↩︎</a></p></li>
<li id="fn9"><p>Si decidiste no instalar RStudio salta al final de esta sección.<a href="R.html#fnref9" class="footnote-back">↩︎</a></p></li>
<li id="fn10"><p>Recuerda que un logaritmo base <span class="math inline">\(a\)</span> te dice a qué potencia <span class="math inline">\(b\)</span> tuve que elevar <span class="math inline">\(a\)</span> para llegar a <span class="math inline">\(b\)</span>. Por ejemplo <span class="math inline">\(\log_{10}(100) = 2\)</span> te dice que para llegar al <span class="math inline">\(100\)</span> tuviste que hacer <span class="math inline">\(10^2\)</span>.<a href="R.html#fnref10" class="footnote-back">↩︎</a></p></li>
<li id="fn11"><p>Puede ser <code>float</code>, <code>int</code>, <code>double</code> pero no nos preocuparemos por eso.<a href="R.html#fnref11" class="footnote-back">↩︎</a></p></li>
<li id="fn12"><p>En <code>R</code> el comando <code>abs</code> toma el valor absoluto.<a href="R.html#fnref12" class="footnote-back">↩︎</a></p></li>
<li id="fn13"><p>Windows usa backslash. Y hay <a href="https://www.howtogeek.com/181774/why-windows-uses-backslashes-and-everything-else-uses-forward-slashes/">toda una historia detrás de ello</a><a href="R.html#fnref13" class="footnote-back">↩︎</a></p></li>
<li id="fn14"><p>En los siguientes capítulos descargaremos paquetes más interesantes; pero no desprecies la utilidad de <code>beepr</code> yo lo he usado en múltiples ocasiones para que la computadora me avise que ya terminó de correr un código.<a href="R.html#fnref14" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="intro.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="análisis-exploratorio-de-datos.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["InferenciaEstadistica.pdf", "InferenciaEstadistica.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
